<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM
 
  Copyright IBM Corporation 2012. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure 
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<!--  BEGIN CR00051158 , PN-->
<!--  BEGIN CR00168004 , AK-->
<workflow-process
  category="PC11"
  createdBy="unauthenticated"
  creationDate="20070119T131511"
  id="112"
  language-version="1.0"
  process-version="1"
  released="true"
>
  <!--  END CR00168004 -->
  <!--  END,  CR00051158  -->
  <name>VERIFICATIONDUEDATEPROCESSING</name>


  <!--BEGIN, CR00361282, CL -->
  <process-display-name>
    <localized-text>
      <locale language="en">Verification Due Date Processing</locale>
    </localized-text>
  </process-display-name>
  <!--END, CR00361282 -->


  <!-- BEGIN, CR00248295, NS -->
  <description>
    <localized-text>
      <locale language="en">Handles processing that occurs when evidence is added to a case that requires verification which has a deadline. This includes calculating a due date and warning date, notifying the case worker and creating a communication that can be sent to the client in advance of the deadline date, if warning days are specified, notifying the caseworker when the due date is reached, and closing the case if the due date passes without verification being satisfied.</locale>
    </localized-text>
  </description>
  <!-- END, CR00248295 -->


  <enactment-mappings>
    <mapping>
      <source-attribute
        name="verificationID"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="verificationID"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="verificationInFuture"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="dueDateInFuture"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="verificationStatus"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="verificationStatus"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="warningDateIndicator"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="warningDateIndicator"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="verificationSatisified"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="verificationSatisified"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="deadlineElapsed"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="deadlineDateExpired"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="dueDateChanged"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="dueDateChanged"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="CaseID"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="CaseID"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="caseReference"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="caseReference"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="verificationName"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="verificationName"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="dueDate"
        struct-name="curam.verification.sl.infrastructure.struct.WMVerificationDetails"
      />
      <target-attribute
        name="dueDate"
        wdo-name="VerificationDetails"
      />
    </mapping>
    <mapping>
      <source-attribute
        name="userName"
        struct-name="curam.core.sl.impl.NotificationWDOStruct"
      />
      <target-attribute
        name="userName"
        wdo-name="Notification"
      />
    </mapping>
  </enactment-mappings>
  <wdos>
    <wdo>
      <wdo-name>VerificationDetails</wdo-name>
      <display-name>
        <localized-text>
          <locale language="en">VerificationDetails</locale>
        </localized-text>
      </display-name>
      <attributes>
        <attribute>
          <attribute-name>verificationID</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">verificationID</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>dueDateInFuture</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">dueDateInFuture</locale>
            </localized-text>
          </display-name>
          <type>BOOLEAN</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>verificationStatus</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">verificationStatus</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>warningDateIndicator</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">warningDateIndicator</locale>
            </localized-text>
          </display-name>
          <type>BOOLEAN</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>verificationSatisified</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">verificationSatisified</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>deadlineDateExpired</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">deadlineDateExpired</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>dueDateChanged</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">dueDateChanged</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>CaseID</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">CaseID</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>caseReference</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">caseReference</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>verificationName</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">verificationName</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>dueDate</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">dueDate</locale>
            </localized-text>
          </display-name>
          <type>DATE</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>warningDateDeadlineDuration</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">warningDateDeadlineDuration</locale>
            </localized-text>
          </display-name>
          <type>INT32</type>
          <required-at-enactment>false</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>dueDateDeadlineDuration</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">dueDateDeadlineDuration</locale>
            </localized-text>
          </display-name>
          <type>INT32</type>
          <required-at-enactment>false</required-at-enactment>
        </attribute>
      </attributes>
    </wdo>
    <wdo>
      <wdo-name>Notification</wdo-name>
      <display-name>
        <localized-text>
          <locale language="en">Notification</locale>
        </localized-text>
      </display-name>
      <attributes>
        <attribute>
          <attribute-name>userName</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">userName</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
      </attributes>
    </wdo>
  </wdos>
  <activities>
    <start-process-activity id="1">
      <name>
        <localized-text>
          <locale language="en">Start Process Activity</locale>
        </localized-text>
      </name>
      <description>
        <localized-text>
          <locale language="en">The start process activity</locale>
        </localized-text>
      </description>
      <split type="none">
        <transition-id idref="1"/>
      </split>
    </start-process-activity>
    <end-process-activity id="2">
      <name>
        <localized-text>
          <locale language="en">End Process Activity</locale>
        </localized-text>
      </name>
      <description>
        <localized-text>
          <locale language="en">The end process activity</locale>
        </localized-text>
      </description>
      <join type="none"/>
    </end-process-activity>
    <automatic-activity id="7">
      <name>
        <localized-text>
          <locale language="en">CalculateWarningDate</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="xor">
        <transition-id idref="4"/>
        <transition-id idref="5"/>
      </split>
      <bpo-mapping
        interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
        method-name="calculateWarningDate"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
              <field name="verificationID">
                <base-type type="INT64">
                  <wdo-attribute
                    name="verificationID"
                    wdo-name="VerificationDetails"
                  />
                </base-type>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
        <return>
          <struct>
            <field name="verificationStatus">
              <base-type>
                <wdo-attribute
                  name="verificationStatus"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
            <field name="warningDateIndicator">
              <base-type>
                <wdo-attribute
                  name="warningDateIndicator"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
            <field name="dueDateDeadline">
              <base-type>
                <wdo-attribute
                  name="dueDateDeadlineDuration"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
            <field name="warningDateDeadline">
              <base-type>
                <wdo-attribute
                  name="warningDateDeadlineDuration"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
            <field name="dueDate">
              <base-type>
                <wdo-attribute
                  name="dueDate"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
          </struct>
        </return>
      </bpo-mapping>
    </automatic-activity>
    <automatic-activity id="16">
      <name>
        <localized-text>
          <locale language="en">CalculateDueDate</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="21"/>
      </split>
      <bpo-mapping
        interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
        method-name="calculateDueDate"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
              <field name="verificationID">
                <base-type type="INT64">
                  <wdo-attribute
                    name="verificationID"
                    wdo-name="VerificationDetails"
                  />
                </base-type>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
        <return>
          <struct>
            <field name="futureDateIndicator">
              <base-type>
                <wdo-attribute
                  name="dueDateInFuture"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
          </struct>
        </return>
      </bpo-mapping>
    </automatic-activity>
    <automatic-activity id="19">
      <name>
        <localized-text>
          <locale language="en">CloseCase</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="22"/>
      </split>
      <bpo-mapping
        interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
        method-name="closeCase"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
              <field name="verificationID">
                <base-type type="INT64">
                  <wdo-attribute
                    name="verificationID"
                    wdo-name="VerificationDetails"
                  />
                </base-type>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
      </bpo-mapping>
    </automatic-activity>
    <automatic-activity id="24">
      <name>
        <localized-text>
          <locale language="en">Send Communication</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="29"/>
      </split>
      <bpo-mapping
        interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
        method-name="sendCommunication"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
              <field name="verificationID">
                <base-type type="INT64">
                  <wdo-attribute
                    name="verificationID"
                    wdo-name="VerificationDetails"
                  />
                </base-type>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
      </bpo-mapping>
    </automatic-activity>
    <automatic-activity id="27">
      <name>
        <localized-text>
          <locale language="en">CheckDueDateInPast</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="none">
        <transition-id idref="35"/>
      </split>
      <bpo-mapping
        interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
        method-name="calculateDueDate"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
              <field name="verificationID">
                <base-type type="INT64">
                  <wdo-attribute
                    name="verificationID"
                    wdo-name="VerificationDetails"
                  />
                </base-type>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
        <return>
          <struct>
            <field name="futureDateIndicator">
              <base-type>
                <wdo-attribute
                  name="dueDateInFuture"
                  wdo-name="VerificationDetails"
                />
              </base-type>
            </field>
          </struct>
        </return>
      </bpo-mapping>
    </automatic-activity>
    <route-activity id="8">
      <name>
        <localized-text>
          <locale language="en">WarningDateRoute</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="none">
        <transition-id idref="6"/>
      </split>
    </route-activity>
    <route-activity id="9">
      <name>
        <localized-text>
          <locale language="en">Loop2EndRoute</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="xor">
        <transition-id idref="26"/>
        <transition-id idref="31"/>
      </split>
    </route-activity>
    <route-activity id="15">
      <name>
        <localized-text>
          <locale language="en">DeadLineRoot</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="xor">
        <transition-id idref="15"/>
        <transition-id idref="28"/>
      </split>
    </route-activity>
    <route-activity id="17">
      <name>
        <localized-text>
          <locale language="en">CalculateDueDateRoot</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="none">
        <transition-id idref="17"/>
      </split>
    </route-activity>
    <route-activity id="18">
      <name>
        <localized-text>
          <locale language="en">Loop1EndRoot</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="xor">
        <transition-id idref="36"/>
        <transition-id idref="38"/>
      </split>
    </route-activity>
    <route-activity id="20">
      <name>
        <localized-text>
          <locale language="en">CloseCaseRoot</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="none">
        <transition-id idref="23"/>
      </split>
    </route-activity>
    <route-activity
      category="AC1"
      id="21"
    >
      <name>
        <localized-text>
          <locale language="en">Send Notification Warning date has passed</locale>
        </localized-text>
      </name>
      <notification delivery-mechanism="DM1">
        <subject>
          <message>
            <message-text>
              <localized-text>
                <locale language="en">There is an outstanding requirement to verify the %1s for Case %2s. This must be satisfied by %3d.</locale>
              </localized-text>
            </message-text>
            <message-parameters>
              <wdo-attribute
                name="verificationName"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="caseReference"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="dueDate"
                wdo-name="VerificationDetails"
              />
            </message-parameters>
          </message>
        </subject>
        <body>
          <message>
            <message-text>
              <localized-text>
                <locale language="en">Reminder to verify the %1s for Case %2s.</locale>
              </localized-text>
            </message-text>
            <message-parameters>
              <wdo-attribute
                name="verificationName"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="caseReference"
                wdo-name="VerificationDetails"
              />
            </message-parameters>
          </message>
        </body>
        <allocation-strategy
          identifier="curam.core.sl.intf.NotificationAllocationFunction.defaultStrategy"
          type="function"
        >
          <function-mappings>
            <formal-parameters>
              <formal-parameter index="0">
                <base-type type="STRING">
                  <wdo-attribute
                    name="userName"
                    wdo-name="Notification"
                  />
                </base-type>
              </formal-parameter>
            </formal-parameters>
          </function-mappings>
        </allocation-strategy>
      </notification>
      <join type="none"/>
      <split type="none">
        <transition-id idref="24"/>
      </split>
    </route-activity>
    <route-activity
      category="AC1"
      id="22"
    >
      <name>
        <localized-text>
          <locale language="en">Send Notification to case owner</locale>
        </localized-text>
      </name>
      <notification delivery-mechanism="DM1">
        <subject>
          <message>
            <message-text>
              <localized-text>
                <locale language="en">There is an outstanding requirement to verify the %1s for Case %2s. This must be satisfied by %3d.</locale>
              </localized-text>
            </message-text>
            <message-parameters>
              <wdo-attribute
                name="verificationName"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="caseReference"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="dueDate"
                wdo-name="VerificationDetails"
              />
            </message-parameters>
          </message>
        </subject>
        <body>
          <message>
            <message-text>
              <localized-text>
                <locale language="en">Reminder to verify the %1s for Case %2s.</locale>
              </localized-text>
            </message-text>
            <message-parameters>
              <wdo-attribute
                name="verificationName"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="caseReference"
                wdo-name="VerificationDetails"
              />
            </message-parameters>
          </message>
        </body>
        <allocation-strategy
          identifier="curam.core.sl.intf.NotificationAllocationFunction.defaultStrategy"
          type="function"
        >
          <function-mappings>
            <formal-parameters>
              <formal-parameter index="0">
                <base-type type="STRING">
                  <wdo-attribute
                    name="userName"
                    wdo-name="Notification"
                  />
                </base-type>
              </formal-parameter>
            </formal-parameters>
          </function-mappings>
        </allocation-strategy>
      </notification>
      <join type="none"/>
      <split type="none">
        <!--  BEGIN CR00051158, PN-->
        <transition-id idref="43"/>
        <!--  END, CR00051158 -->
      </split>
    </route-activity>
    <route-activity id="26">
      <name>
        <localized-text>
          <locale language="en">WarningDateInPastRoot</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="xor">
        <transition-id idref="33"/>
        <transition-id idref="34"/>
      </split>
    </route-activity>
    <route-activity
      category="AC1"
      id="28"
    >
      <name>
        <localized-text>
          <locale language="en">DeadLineElapsedNotification</locale>
        </localized-text>
      </name>
      <notification delivery-mechanism="DM1">
        <subject>
          <message>
            <message-text>
              <localized-text>
                <locale language="en">Case %1s closing as deadline to verify the %2s has been reached.</locale>
              </localized-text>
            </message-text>
            <message-parameters>
              <wdo-attribute
                name="caseReference"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="verificationName"
                wdo-name="VerificationDetails"
              />
            </message-parameters>
          </message>
        </subject>
        <body>
          <message>
            <message-text>
              <localized-text>
                <locale language="en">The deadline for verifying the %1s for Case %2s has been reached.</locale>
              </localized-text>
            </message-text>
            <message-parameters>
              <wdo-attribute
                name="verificationName"
                wdo-name="VerificationDetails"
              />
              <wdo-attribute
                name="caseReference"
                wdo-name="VerificationDetails"
              />
            </message-parameters>
          </message>
        </body>
        <allocation-strategy
          identifier="curam.core.sl.intf.NotificationAllocationFunction.defaultStrategy"
          type="function"
        >
          <function-mappings>
            <formal-parameters>
              <formal-parameter index="0">
                <base-type type="STRING">
                  <wdo-attribute
                    name="userName"
                    wdo-name="Notification"
                  />
                </base-type>
              </formal-parameter>
            </formal-parameters>
          </function-mappings>
        </allocation-strategy>
      </notification>
      <join type="none"/>
      <split type="none">
        <transition-id idref="37"/>
      </split>
    </route-activity>
    <route-activity id="29">
      <name>
        <localized-text>
          <!-- BEGIN, CR00051158 , PN-->
          <locale language="en">DueDate In Future</locale>
          <!-- END, CR00051158 -->
        </localized-text>
      </name>
      <join type="none"/>
      <split type="xor">
        <transition-id idref="39"/>
        <!-- BEGIN, CR00051158 , PN-->
        <transition-id idref="45"/>
      </split>
    </route-activity>
    <route-activity id="30">
      <name>
        <localized-text>
          <locale language="en">Warning Date Is Not Empty</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="xor">
        <transition-id idref="44"/>
        <transition-id idref="48"/>
        <!-- END, CR00051158 -->
      </split>
    </route-activity>
    <loop-begin-activity id="3">
      <name>
        <localized-text>
          <locale language="en">LOOP1 [Begin]</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="2"/>
      </split>
      <loop-type name="while"/>
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.verificationStatus"
          data-item-rhs="VerificationDetails.dueDateChanged"
          id="1"
          operation="=="
        />
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.dueDateInFuture"
          data-item-rhs="true"
          id="2"
          operation="=="
        />
      </condition>
      <block-endpoint-ref activity-id="4"/>
    </loop-begin-activity>
    <loop-begin-activity id="5">
      <name>
        <localized-text>
          <locale language="en">LOOP2 [Begin]</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="3"/>
      </split>
      <loop-type name="while"/>
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.verificationStatus"
          data-item-rhs="VerificationDetails.dueDateChanged"
          id="1"
          operation="=="
        />
      </condition>
      <block-endpoint-ref activity-id="6"/>
    </loop-begin-activity>
    <loop-end-activity id="4">
      <name>
        <localized-text>
          <locale language="en">LOOP1 [End]</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="18"/>
      </split>
      <block-endpoint-ref activity-id="3"/>
    </loop-end-activity>
    <loop-end-activity id="6">
      <name>
        <localized-text>
          <locale language="en">LOOP2 [End]</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="7"/>
      </split>
      <block-endpoint-ref activity-id="5"/>
    </loop-end-activity>
    <event-wait-activity id="13">
      <name>
        <localized-text>
          <locale language="en">EventWait1</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="12"/>
      </split>
      <event-wait>
        <events>
          <event
            event-class="Verification"
            event-type="VerificationSatisified"
            identifier="1"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="DueDateChanged"
            identifier="2"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="DueDateElapsed"
            identifier="3"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="VerificationAdded"
            identifier="4"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="DueDate"
            identifier="6"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="CaseClosed"
            identifier="7"
          >
            <event-match-attribute
              name="CaseID"
              wdo-name="VerificationDetails"
            />
          </event>
        </events>
        <event-output-mappings>
          <output-data
            name="verificationStatus"
            wdo-name="VerificationDetails"
          />
        </event-output-mappings>
        <deadline>
          <duration>
            <mapped-duration>
              <wdo-attribute
                name="warningDateDeadlineDuration"
                wdo-name="VerificationDetails"
              />
            </mapped-duration>
          </duration>
          <deadline-handler
            interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
            method-name="deadLineExpired"
          >
            <formal-parameters>
              <formal-parameter index="0">
                <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
                  <field name="verificationID">
                    <base-type type="INT64">
                      <wdo-attribute
                        name="verificationID"
                        wdo-name="VerificationDetails"
                      />
                    </base-type>
                  </field>
                </struct>
              </formal-parameter>
            </formal-parameters>
          </deadline-handler>
        </deadline>
      </event-wait>
    </event-wait-activity>
    <event-wait-activity id="25">
      <name>
        <localized-text>
          <locale language="en">EventWait2</locale>
        </localized-text>
      </name>
      <join type="xor"/>
      <split type="none">
        <transition-id idref="30"/>
      </split>
      <event-wait>
        <events>
          <event
            event-class="Verification"
            event-type="DueDateElapsed"
            identifier="1"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="VerificationSatisified"
            identifier="2"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="DueDateChanged"
            identifier="3"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="VerificationAdded"
            identifier="4"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="DueDate"
            identifier="6"
          >
            <event-match-attribute
              name="verificationID"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="DueDateElapsed"
            identifier="7"
          >
            <event-match-attribute
              name="verificationSatisified"
              wdo-name="VerificationDetails"
            />
          </event>
          <event
            event-class="Verification"
            event-type="CaseClosed"
            identifier="8"
          >
            <event-match-attribute
              name="CaseID"
              wdo-name="VerificationDetails"
            />
          </event>
        </events>
        <event-output-mappings>
          <output-data
            name="verificationStatus"
            wdo-name="VerificationDetails"
          />
        </event-output-mappings>
        <deadline>
          <duration>
            <mapped-duration>
              <wdo-attribute
                name="dueDateDeadlineDuration"
                wdo-name="VerificationDetails"
              />
            </mapped-duration>
          </duration>
          <deadline-handler
            interface-name="curam.verification.sl.infrastructure.intf.ProcessVerificationDueDate"
            method-name="deadLineExpired"
          >
            <formal-parameters>
              <formal-parameter index="0">
                <struct type="curam.verification.sl.infrastructure.entity.struct.VerificationKey">
                  <field name="verificationID">
                    <base-type type="INT64">
                      <wdo-attribute
                        name="verificationID"
                        wdo-name="VerificationDetails"
                      />
                    </base-type>
                  </field>
                </struct>
              </formal-parameter>
            </formal-parameters>
          </deadline-handler>
        </deadline>
      </event-wait>
    </event-wait-activity>
  </activities>
  <transitions>
    <transition
      from-activity-idref="1"
      id="1"
      to-activity-idref="3"
    />
    <transition
      from-activity-idref="3"
      id="2"
      to-activity-idref="5"
    />
    <transition
      from-activity-idref="5"
      id="3"
      to-activity-idref="7"
    />
    <transition
      from-activity-idref="7"
      id="4"
      to-activity-idref="26"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.warningDateIndicator"
          data-item-rhs="false"
          id="1"
          operation="=="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="7"
      id="5"
      to-activity-idref="13"
    />
    <transition
      from-activity-idref="8"
      id="6"
      to-activity-idref="6"
    />
    <transition
      from-activity-idref="6"
      id="7"
      to-activity-idref="9"
    />
    <transition
      from-activity-idref="13"
      id="12"
      to-activity-idref="8"
    />
    <transition
      from-activity-idref="15"
      id="15"
      to-activity-idref="16"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.verificationStatus"
          data-item-rhs="VerificationDetails.dueDateChanged"
          id="1"
          operation="=="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="17"
      id="17"
      to-activity-idref="4"
    />
    <transition
      from-activity-idref="4"
      id="18"
      to-activity-idref="18"
    />
    <transition
      from-activity-idref="16"
      id="21"
      to-activity-idref="17"
    />
    <transition
      from-activity-idref="19"
      id="22"
      to-activity-idref="20"
    />
    <transition
      from-activity-idref="20"
      id="23"
      to-activity-idref="2"
    />
    <transition
      from-activity-idref="21"
      id="24"
      to-activity-idref="27"
    />
    <transition
      from-activity-idref="9"
      id="26"
      to-activity-idref="29"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.verificationStatus"
          data-item-rhs="VerificationDetails.deadlineDateExpired"
          id="2"
          operation="=="
        />
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.dueDateInFuture"
          data-item-rhs="true"
          id="3"
          operation="=="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="15"
      id="28"
      to-activity-idref="17"
    />
    <transition
      from-activity-idref="24"
      id="29"
      to-activity-idref="25"
    />
    <transition
      from-activity-idref="25"
      id="30"
      to-activity-idref="15"
    />
    <transition
      from-activity-idref="9"
      id="31"
      to-activity-idref="15"
    />
    <transition
      from-activity-idref="26"
      id="33"
      to-activity-idref="21"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.warningDateDeadlineDuration"
          data-item-rhs="0"
          id="1"
          operation="!="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="26"
      id="34"
      to-activity-idref="27"
    />
    <transition
      from-activity-idref="27"
      id="35"
      to-activity-idref="8"
    />
    <transition
      from-activity-idref="18"
      id="36"
      to-activity-idref="28"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.dueDateInFuture"
          data-item-rhs="false"
          id="1"
          operation="=="
        />
        <expression
          conjunction="or"
          data-item-lhs="VerificationDetails.verificationStatus"
          data-item-rhs="VerificationDetails.deadlineDateExpired"
          id="2"
          operation="=="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="28"
      id="37"
      to-activity-idref="19"
    />
    <transition
      from-activity-idref="18"
      id="38"
      to-activity-idref="20"
    />
    <!-- BEGIN, CR00051158, PN-->
    <transition
      from-activity-idref="29"
      id="39"
      to-activity-idref="30"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.warningDateIndicator"
          data-item-rhs="false"
          id="1"
          operation="=="
        />
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.warningDateDeadlineDuration"
          data-item-rhs="0"
          id="2"
          operation="!="
        />


      </condition>
    </transition>
    <transition
      from-activity-idref="22"
      id="43"
      to-activity-idref="30"
    />
    <transition
      from-activity-idref="30"
      id="44"
      to-activity-idref="24"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="VerificationDetails.warningDateDeadlineDuration"
          data-item-rhs="0"
          id="1"
          operation="!="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="29"
      id="45"
      to-activity-idref="22"
    />
    <transition
      from-activity-idref="30"
      id="48"
      to-activity-idref="25"
    />
    <!-- END, CR00051158 -->
  </transitions>
</workflow-process>
