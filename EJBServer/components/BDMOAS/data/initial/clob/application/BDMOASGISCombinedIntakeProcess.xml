<?xml version="1.0" encoding="UTF-8"?>

<!--
Intake Process Configuration for the Intake Worker.
This configuration should be assigned to users fulfilling the Intake Worker Role.
-->
<IntakeProcess>
  <!--
        Configuration global to the Intake Process goes in this Section
    -->
  <GlobalConfiguration>

    <!--
            The set of program types available for use within this Intake Process
        -->
	<!-- BDM OAS Pension Program -->
	<!-- ProgramType relates to the ProgramType codetable value BDMOASPT01 -->
	<!-- ProgramTypeID relates to the primary key of the ProgramType db table value 920000, required to link to the UA-->
	<ProgramType
      ProgramType="BDMOASPT01"
      ProgramTypeID="920000"
    />

	<ProgramType
      ProgramType="BDMOASPT02"
      ProgramTypeID="920001"
    />

  </GlobalConfiguration>

  <!-- Configuration local to the Individual goes in this Section -->
  <!-- View for Cases ass to the client-->
  <IndividualConfiguration>
    <!--
            Configuration for the Triage section of Intake which is available at the Individual Level.
        -->
    <Triage
      DataStore="Triage"
      RuleSet="TriageRuleSet"
      RuleSetClass="Triage"
      ScriptName="Triage"
      ScriptType="Screening"
      ScriptVersion="V1"
    />
    <!--
            Configuration for the Intake Summary section of Intake which is available at the Individual Level.
        -->
    <IntakeSummary
      ShowCurrentCluster="true"
      ShowPendingApplicationCluster="true"
      ShowScreeningCluster="true"
      ShowTriageCluster="true"
    />

    <!--
            Configuration options related to the display of cases in the Individual Tab.
        -->
    <ShowExistingCase>
      <!--
                The preview panel to use for cases on the list pages.
             -->
      <PreviewPanel
        CaseType="PC7"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />
      <PreviewPanel
        CaseType="PC9"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />
      <PreviewPanel
        CaseType="PC1"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />
      <!-- BDM OAS Programs -->
      <PreviewPanel
        CaseType="OASPC00001"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />


      <!-- Only cases of the specified types will be displayed. -->
      <!-- Type relates to the CaseCatTypeCode  -->
      <ShowCasesOfType Type="PC1"/>
      <ShowCasesOfType Type="PC9"/>
      <ShowCasesOfType Type="PC7"/>
      <!-- BDM OAS Programs -->
      <ShowCasesOfType Type="OASPC00001"/>

      <!-- Only cases of the specified status will be displayed. CS4-Open CS5-Submitted -->
      <ShowCasesOfStatus Status="CS4"/>
      <ShowCasesOfStatus Status="CS5"/>
      <!--
                Whether or not cases with undisposed applications should be displayed or not.
            -->
      <ShowCasesWithUndisposedApplications Value="true"/>
    </ShowExistingCase>

  </IndividualConfiguration>


  <!-- Stimulus Application Process configuration goes in this Section -->
  <ApplicationConfiguration>

<!-- CaseCatTypeCode codetable OASPC00001 Old Age Security Program-->
<!-- ProductCategory codetable OASPC00001 Old Age Security Program-->
<!-- ApplicationType codetable BDMOASAT01 Application for the Old Age Security Pension and the Guaranteed Income Supplement-->
<!-- ProgramType codetbale BDMOASPT01 OAS Pension Program Type-->
<!-- ProgramType DB Table 920000 OAS Pension Program Type, Case Type CT10201, IC type OASPC00001 -->
<!-- IntakeApplicationType DB Table 80002 BDMOASGISCombinedApplication-->


	  <!-- BDM OAS OAS Pension And GIS combined Application Process -->
	  <!-- Type relates to the ApplicationType codetable value BDMOASAT01 -->
	<ApplicationType 
		Type="BDMOASAT02"
		ShowPreviewPanel="true"
	>
		
		<!-- MappedType relates to the IntakeApplicationType db table value 910002 -->
		<!-- <IntakeApplicationType  -->
			<!-- MappedType="910002" -->
		<!-- > -->
		<!-- </IntakeApplicationType> -->
		
		
		<!-- SchemaName relates to the base .xsd schema-->
		<!-- SchemaName relates to the base .xml script -->
		<!-- ScriptVersion relates to the base .xml script version-->
		<!-- SimpleScriptName relates to the base .xml script name without anything appended (eg _V1_Intake etc)-->
		<ApplicationScript 
			SchemaName="BDMOASGISApplicationSchema"
			ScriptName="BDMOASGISApplicationCP"
			ScriptVersion="V1"
			SimpleScriptName="BDMOASGISApplicationCP"
		>
		</ApplicationScript>
		
		
		<!-- Type relates to the ProgramType codetable value BDMOASPT02: GIS Porgram -->
		<ProgramType 
			type="BDMOASPT02"
			isReopenAllowed="true"
			isResumeTimerEnabled="true"
			MaxNumberReopeningsAllowed=""
			TimerRestartDate="TRD19001"
		>
			<!-- ProgramMapping relates to the dynamic evidence Mapping from the Script to the Dynamic evidences on the IC-->
			<ProgramMapping 
				IntegratedCaseType="OASPC00001"
				MappingXML="BDMOASGISApplicationEvdMapping"
				MappingXMLConfiguration="BDMOASGISApplicationEvdMappingConfiguration"
			>
			</ProgramMapping>
		</ProgramType>
		
		
		<!-- Cases that the Application can be transferred to -->
		<TransferToExistingCase>
			<!-- Type is the Case codetable Entry from the case type code table-->
			<CaseType Type="OASPC00001"/>
			<CaseType Type="PC7"/>
			<!-- <CaseType Type=""/> -->
			<!-- CaseStatus of the Case that the application can be transferred to -->
			<!-- Status is the Case codetable Entry from the case status code table, CS1-Open-->
			<CaseStatus Status="CS1"/>
			<CaseStatus Status="CS4"/>
			<CaseStatus Status="CS5"/>
			<CaseStatus Status="CS6"/>
			<!-- ApplicationStatus of the application to be transferred -->
			<!-- Status is the Case codetable Entry from the application case status code table, AS19001-In Progress, AS19003-Submitted, AS19004-Ready for Determination -->
			<ApplicationStatus Status="AS19001"/>
			<ApplicationStatus Status="AS19003"/>
			<ApplicationStatus Status="AS19004"/>
		</TransferToExistingCase>
		
		
		<!-- Cases that the Application can be added to -->
		<AddToExistingCase>
			<!-- Type is the Case codetable Entry from the case type code table-->
			<AddToCaseOfType Type="OASPC00001"/>
			<AddToCaseOfType Type="PC7"/>
			<!-- Status of the case theat the application can be applied to, codetable Entry from case status code table-->
			<!-- CS1-Open, CS4-Approved, CS5-Submitted, CS6-Active-->
			<AddToCaseOfStatus Status="CS1"/>
			<AddToCaseOfStatus Status="CS4"/>
			<AddToCaseOfStatus Status="CS5"/>
			<AddToCaseOfStatus Status="CS6"/>
		</AddToExistingCase>
		
		
		<!-- Cases Status After the application has been transferred, update the Applciation Case -->
		<!-- Status codetable Entry from case status code table-->
		<CaseStatusAfterTransfer
			status="CS3" >
			<!-- The types of cases that take the new status after the application is transferred -->
			<!-- Type is the Case codetable Entry from the case type code table -->
			<CaseType Type="OASPC00001"/>
			<CaseType Type="PC7"/>
		</CaseStatusAfterTransfer>
		
		
		<!-- TODO list showing the outstanding task that the worker must do to finish processing the Application-->
		<!-- name contains the name of the application TODO list context-->
		<TODOListAdviceContextKeyName name="ApplicationTodoRuleSet" />
		
		<!-- Results of the quick search for the intake process-->
		<QuickSearch>
			<!-- CS1-Open, CS4-Approved, CS5-Submitted, CS6-Active-->

			<!-- Name of the UIM client Page used in the preview panel-->
			<PreviewPanel Page="ApplicationISInprogressPreviewPanel">
				<!-- Application status to be shown in the quick search preview panel -->
				<!-- Status is the Case codetable Entry from the case status code table-->
				<ApplicationStatus status="AS19001"/>
			</PreviewPanel>
			
			<PreviewPanel Page="ISPApplicationISCompletePreviewPanel">
				<ApplicationStatus status="AS19003"/>
				<ApplicationStatus status="AS19004"/>
			</PreviewPanel>
			
			<PreviewPanel Page="ISPApplicationISDisposedPreviewPanel">
				<ApplicationStatus status="AS19005"/>
			</PreviewPanel>
		</QuickSearch>
		
		
		<!-- Cases Tab in the Application Workspace that are asscociated to this case-->
		<ShowExistingCase>
			<!-- Name of the UIM client Page used in the preview panel-->
			<PreviewPanel Page="Application_viewExistingCasePreviewPanel"/>
			
			<!-- Each Case type you want to display the application cases list-->
			<!-- Type is the Case codetable Entry from the case type code table-->
			<ShowCasesOfType Type="OASPC00001"/>
			<ShowCasesOfType Type="PC7"/>
			
			<!-- Each Case status you want to display the application cases list based on their status-->
			<!-- Status is the Case codetable Entry from the case status code table-->
			<ShowCasesOfStatus Status="CS4"/>
			<ShowCasesOfStatus Status="CS5"/>
			
			<!-- Whether cases with undisposed appications can be displayed -->
			<!-- Value is boolean eg true or false-->
			<ShowCasesWithUndisposedApplications Value="true"/>
		</ShowExistingCase>
		
		
		<!--The Preview Panel to use when the application is 'in progress'.-->
		<PreviewPanel Page="ApplicationISInprogressPreviewPanel">
			<ApplicationStatus status="AS19001"/>
		</PreviewPanel>
		
		<!--The Preview Panel to use when the application is 'complete'.-->
		<PreviewPanel Page="ISPApplicationISCompletePreviewPanel">
			<ApplicationStatus status="AS19003"/>
			<ApplicationStatus status="AS19004"/>
		</PreviewPanel>
		
		<!--The Preview Panel to use when the application is 'disposed'.-->
		<PreviewPanel Page="ISPApplicationISDisposedPreviewPanel">
			<ApplicationStatus status="AS19005"/>
		</PreviewPanel>
		
		<!--The menu to display when the application is 'in progress'.-->
		<DisplayMenu Name="DisplayMenuPrimary">
			<ApplicationStatus status="AS19001"/>
		</DisplayMenu>
		
		<!--The menu to display when the application is 'complete'.-->
		<DisplayMenu Name="DisplayMenuSecondary">
			<ApplicationStatus status="AS19003"/>
			<ApplicationStatus status="AS19004"/>
		</DisplayMenu>
		
		<!-- Configuration for text fields displayed on the Rights and Responsibilities page at the end of the Application script. -->
		<RightsAndResponsibilitiesText TextReference="RightsAndResponsibilitiesText"/>
		<AuthorizationInformationText TextReference="AuthorizationInformationText"/>
		<DepartmentPolicyText TextReference="DepartmentPolicyText"/>
		
		<!--Using OOTB Workflows to Process incoming UA Applications -->
		<WorkFlows>
		<OnlineApplicationRecieved name="INTAKEAPPLICATIONRECEIVEDTASK">
			<AllocationTarget 
				name="19001"
				type="RL23"
			/>
		</OnlineApplicationRecieved>
		<WithdrawalRequest name="INTAKEAPPLICATIONWITHDRAWALREQUESTTASK">
			<AllocationTarget 
				name="19002"
				type="RL23"
		 />
		</WithdrawalRequest>
		<ReadyForDetermination name="READYFORDETERMINATIONTASK">
			<AllocationTarget type="RL9"/>
		</ReadyForDetermination>
	  </WorkFlows>

	</ApplicationType>
  
  </ApplicationConfiguration>


  <!--
        Configuration for what preview panel to use in the quick search for existing cases
    -->
  <ExistingCase>
    <QuickSearch>
      <PreviewPanel
        caseType="PC7"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />
      <PreviewPanel
        caseType="PC9"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />
      <PreviewPanel
        caseType="PC1"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />
      <!-- BDM OAS Program -->
      <PreviewPanel
        CaseType="OASPC00001"
        Page="Intake_viewIndividualExistingCasePreviewPanel"
      />

      <ShowCasesOfType Type="PC1"/>
      <ShowCasesOfType Type="PC9"/>
      <ShowCasesOfType Type="PC7"/>
      <!-- BDM OAS Program -->
      <ShowCasesOfType Type="OASPC00001"/>

      <ShowCasesOfStatus Status="CS4"/>
      <ShowCasesOfStatus Status="CS5"/>
      <ShowCasesWithUndisposedApplications Value="true"/>
    </QuickSearch>

  </ExistingCase>

</IntakeProcess>
