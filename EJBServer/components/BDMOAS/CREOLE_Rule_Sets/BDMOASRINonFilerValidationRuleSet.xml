<?xml version="1.0" encoding="UTF-8"?>
<!-- 103431 DEV: Implement OAS RI Non-Filer -->
<RuleSet name="BDMOASRINonFilerValidationRuleSet"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../build/svr/creole.gen/schema/RuleSet.xsd">

	<Class name="ValidationResult"
		extends="DefaultEvidenceValidationResult"
		extendsRuleSet="EvidenceValidationRuleSet">

		<Attribute name="description">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage key="Description"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASRINonFilerValidationRuleSet" />
			</derivation>
		</Attribute>

		<Attribute name="evidence">
			<type>
				<ruleclass name="BDMOASRINonFiler"
					ruleset="BDMOASRINonFilerRuleSet" />
			</type>
			<derivation>
				<specified />
			</derivation>
		</Attribute>

		<Attribute name="standardValidations">
			<type>
				<javaclass name="java.util.List">
					<ruleclass name="Validation"
						ruleset="EvidenceValidationRuleSet" />
				</javaclass>
			</type>
			<derivation>
				<fixedlist>
					<listof>
						<ruleclass name="Validation"
							ruleset="EvidenceValidationRuleSet" />
					</listof>
					<members>
						<reference attribute="taxYearValidation" />
					</members>
				</fixedlist>
			</derivation>
		</Attribute>

		<Attribute name="taxYearValidation">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference attribute="taxYearFailure" />
					<reference attribute="taxYearFailureMessage" />
				</create>
			</derivation>
		</Attribute>
		
		<Attribute name="taxYearFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<not>
					<call class="curam.ca.gc.bdmoas.creole.impl.Statics"
						method="isValidTaxYear">
						<type>
							<javaclass name="Boolean" />
						</type>
						<arguments>
							<reference attribute="taxYear">
								<reference attribute="evidence" />
							</reference>
						</arguments>
					</call>
				</not>
			</derivation>
		</Attribute>
		
	
		<Attribute name="taxYearFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage
					key="ERR_YEAR_MUST_BE_IN_RANGE"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASRINonFilerValidationRuleSet">
					<call class="curam.ca.gc.bdm.creole.impl.Statics"
						method="getPreviousYear">
						<type>
							<javaclass name="String" />
						</type>
						<arguments />
					</call>
				</ResourceMessage>
			</derivation>
		</Attribute>

	</Class>

</RuleSet>