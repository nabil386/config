<?xml version="1.0" encoding="UTF-8"?>
<!-- 64790: Residence Period -->
<RuleSet name="OASResidencePeriodSummaryRuleSet"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../build/svr/creole.gen/schema/RuleSet.xsd">
	<Class extends="DefaultEvidenceSummary"
		extendsRuleSet="EvidenceSummaryRuleSet" name="SummaryInformation">
		<Attribute name="evidence">
			<type>
				<ruleclass name="OASResidencePeriod"
					ruleset="OASResidencePeriodRuleSet" />
			</type>
			<derivation>
				<specified />
			</derivation>
		</Attribute>
		<Attribute name="summary">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="curam.creole.value.Message" />
					</type>
					<when>
						<condition>
							<equals>
								<reference attribute="residenceType">
									<reference attribute="evidence" />
								</reference>
								<null />
							</equals>
						</condition>
						<value>
							<reference attribute="unknownTypeMessage" />
						</value>
					</when>
					<otherwise>
						<value>
							<reference attribute="knownTypeMessage" />
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
		<Attribute name="knownTypeMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="curam.creole.value.Message" />
					</type>
					<when>
						<condition>
							<equals>
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
								<null />
							</equals>
						</condition>
						<value>
							<ResourceMessage key="OpenEndedSummary"
								resourceBundle="curam.ca.gc.bdmoas.evidence.OASResidencePeriodSummaryRuleSet">
								<reference attribute="startDate">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="country">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="residenceType">
									<reference attribute="evidence" />
								</reference>
							</ResourceMessage>
						</value>
					</when>
					<otherwise>
						<value>
							<ResourceMessage key="EndDatedSummary"
								resourceBundle="curam.ca.gc.bdmoas.evidence.OASResidencePeriodSummaryRuleSet">
								<reference attribute="startDate">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="country">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="residenceType">
									<reference attribute="evidence" />
								</reference>
							</ResourceMessage>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
		<Attribute name="unknownTypeMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="curam.creole.value.Message" />
					</type>
					<when>
						<condition>
							<equals>
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
								<null />
							</equals>
						</condition>
						<value>
							<ResourceMessage key="UnknownOpenEndedSummary"
								resourceBundle="curam.ca.gc.bdmoas.evidence.OASResidencePeriodSummaryRuleSet">
								<reference attribute="startDate">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="country">
									<reference attribute="evidence" />
								</reference>
							</ResourceMessage>
						</value>
					</when>
					<otherwise>
						<value>
							<ResourceMessage key="UnknownEndDatedSummary"
								resourceBundle="curam.ca.gc.bdmoas.evidence.OASResidencePeriodSummaryRuleSet">
								<reference attribute="startDate">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="country">
									<reference attribute="evidence" />
								</reference>
							</ResourceMessage>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
	</Class>
</RuleSet>