<?xml version="1.0" encoding="UTF-8"?>
<!-- 90159 DEV: Implement Benefit Suspension Evidence -->
<RuleSet name="BDMOASBenefitSuspensionSummaryRuleSet"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">

    <Class extends="DefaultEvidenceSummary"
        extendsRuleSet="EvidenceSummaryRuleSet"
        name="SummaryInformation">

        <Attribute name="evidence">
            <type>
                <ruleclass name="BDMOASBenefitSuspension"
                    ruleset="BDMOASBenefitSuspensionRuleSet" />
            </type>
            <derivation>
                <specified />
            </derivation>
        </Attribute>

        <Attribute name="summary">
            <type>
                <javaclass name="curam.creole.value.Message" />
            </type>
            <derivation>
                <choose>
                    <type>
                        <javaclass name="curam.creole.value.Message" />
                    </type>
                    <when>
                        <condition>
                            <equals>
                                <Code table="BDMOASSuspensionStatus">
                                    <String value="SST1" />
                                </Code>
                                <reference attribute="suspensionStatus">
                                    <reference attribute="evidence" />
                                </reference>
                            </equals>
                        </condition>
                        <value>
                            <ResourceMessage key="SuspensionSummaryMessage"
                                resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASBenefitSuspensionSummaryRuleSet">
                                <reference attribute="suspendedBenefit">
                                    <reference attribute="evidence" />
                                </reference>
                                <reference attribute="suspensionReason">
                                    <reference attribute="evidence" />
                                </reference>
                            </ResourceMessage>
                        </value>
                    </when>
                    <otherwise>
                        <value>
                            <ResourceMessage key="UnsuspensionSummaryMessage"
                                resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASBenefitSuspensionSummaryRuleSet">
                                <reference attribute="suspendedBenefit">
                                    <reference attribute="evidence" />
                                </reference>
                                <reference attribute="unsuspensionReason">
                                    <reference attribute="evidence" />
                                </reference>
                            </ResourceMessage>
                        </value>
                    </otherwise>
                </choose>
            </derivation>
        </Attribute>

    </Class>

</RuleSet>
