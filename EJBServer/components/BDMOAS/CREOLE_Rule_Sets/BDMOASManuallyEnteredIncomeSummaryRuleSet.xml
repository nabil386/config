<?xml version="1.0" encoding="UTF-8"?>
<!-- TASK 74615 DEV: Implement Manually Entered Income -->
<RuleSet name="BDMOASManuallyEnteredIncomeSummaryRuleSet"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../build/svr/creole.gen/schema/RuleSet.xsd">
	<Class extends="DefaultEvidenceSummary"
		extendsRuleSet="EvidenceSummaryRuleSet" name="SummaryInformation">
		<Attribute name="evidence">
			<type>
				<ruleclass name="BDMOASManuallyEnteredIncome"
					ruleset="BDMOASManuallyEnteredIncomeRuleSet" />
			</type>
			<derivation>
				<specified />
			</derivation>
		</Attribute>
		<Attribute name="summary">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="curam.creole.value.Message" />
					</type>
					<when>
						<condition>
							<equals>
								<reference attribute="preferred">
									<reference attribute="evidence" />
								</reference>
								<!-- 'BOASYN001' description 'Yes' -->
								<Code table="BDMYesNo">
									<String value="BOASYN001" />
								</Code>
							</equals>
						</condition>
						<value>
							<ResourceMessage key="Preferred.SummaryMessage"
								resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASManuallyEnteredIncomeSummaryRuleSet">
								<reference attribute="year">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="manuallyEnteredIncomeAmount" />
							</ResourceMessage>
						</value>
					</when>
					<otherwise>
						<value>
							<ResourceMessage
								key="NonPreferred.SummaryMessage"
								resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASManuallyEnteredIncomeSummaryRuleSet">
								<reference attribute="year">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="manuallyEnteredIncomeAmount" />
							</ResourceMessage>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

		<Attribute name="calculatedManuallyEnteredIncomeAmount">
			<type>
				<javaclass name="java.lang.Number" />
			</type>
			<derivation>
				<arithmetic decimalPlaces="2" operation="+"
					rounding="half_up">
					<arithmetic decimalPlaces="2" operation="+"
						rounding="half_up">
						<arithmetic decimalPlaces="2" operation="+"
							rounding="half_up">
							<arithmetic decimalPlaces="2" operation="+"
								rounding="half_up">
								<arithmetic decimalPlaces="2" operation="+"
									rounding="half_up">
									<arithmetic decimalPlaces="2" operation="+"
										rounding="half_up">
										<arithmetic decimalPlaces="2" operation="+"
											rounding="half_up">
											<arithmetic decimalPlaces="2" operation="+"
												rounding="half_up">
												<arithmetic decimalPlaces="2" operation="+"
													rounding="half_up">
													<arithmetic decimalPlaces="2" operation="+"
														rounding="half_up">
														<arithmetic decimalPlaces="2" operation="+"
															rounding="half_up">
															<reference
																attribute="canadaPensionPlanOrQuebecPensionBenefit">
																<reference attribute="evidence" />
															</reference>
															<reference
																attribute="otherCanadianPensionIncome">
																<reference attribute="evidence" />
															</reference>
														</arithmetic>
														<reference attribute="foreignPensionIncome">
															<reference attribute="evidence" />
														</reference>
													</arithmetic>
													<reference attribute="employmentInsurance">
														<reference attribute="evidence" />
													</reference>
												</arithmetic>
												<reference attribute="workersCompensationBenefits">
													<reference attribute="evidence" />
												</reference>
											</arithmetic>
											<reference
												attribute="interestAndOtherInvestmentIncome">
												<reference attribute="evidence" />
											</reference>
										</arithmetic>
										<reference
											attribute="eligibleAndOtherThanEligibleDividends">
											<reference attribute="evidence" />
										</reference>
									</arithmetic>
									<reference attribute="capitalGains">
										<reference attribute="evidence" />
									</reference>
								</arithmetic>
								<reference attribute="netEmploymentIncome">
									<reference attribute="evidence" />
								</reference>
							</arithmetic>

							<reference attribute="netRentalIncome">
								<reference attribute="evidence" />
							</reference>
						</arithmetic>
						<reference attribute="netSelfEmploymentIncome">
							<reference attribute="evidence" />
						</reference>
					</arithmetic>
					<reference attribute="otherIncome">
						<reference attribute="evidence" />
					</reference>
				</arithmetic>
			</derivation>
		</Attribute>


		<Attribute name="startDate">
			<type>
				<javaclass name="curam.util.type.Date" />
			</type>
			<derivation>
				<call class="curam.ca.gc.bdmoas.creole.impl.Statics"
					method="getManuallyEnteredIncomeStartDate">
					<type>
						<javaclass name="curam.util.type.Date" />
					</type>
					<arguments>
						<reference attribute="year">
							<reference attribute="evidence" />
						</reference>
					</arguments>
				</call>
			</derivation>
		</Attribute>

		<Attribute name="endDate">
			<type>
				<javaclass name="curam.util.type.Date" />
			</type>
			<derivation>
				<call class="curam.ca.gc.bdmoas.creole.impl.Statics"
					method="getManuallyEnteredIncomeEndDate">
					<type>
						<javaclass name="curam.util.type.Date" />
					</type>
					<arguments>
						<reference attribute="year">
							<reference attribute="evidence" />
						</reference>
					</arguments>
				</call>
			</derivation>
		</Attribute>

		<Attribute name="isStartDateAvailable">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<true />
			</derivation>
		</Attribute>
		<Attribute name="isEndDateAvailable">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<true />
			</derivation>
		</Attribute>

		<Attribute name="manuallyEnteredIncomeAmount">
			<type>
				<javaclass name="java.lang.Number" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Number" />
					</type>
					<when>
						<condition>
							<compare comparison="&gt;">
								<reference
									attribute="calculatedManuallyEnteredIncomeAmount" />
								<Number value="0.00" />
							</compare>
						</condition>
						<value>
							<reference
								attribute="calculatedManuallyEnteredIncomeAmount" />
						</value>
					</when>
					<otherwise>
						<value>
							<Number value="0.00" />
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

	</Class>
</RuleSet>