<RuleSet name="BDMOASMaritalRelationshipValidationRuleSet">
	<Class extends="DefaultEvidenceValidationResult"
		extendsRuleSet="EvidenceValidationRuleSet" name="ValidationResult">
		<Attribute name="evidence">
			<type>
				<ruleclass name="BDMOASMaritalRelationship"
					ruleset="BDMOASMaritalRelationshipRuleSet" />
			</type>
			<derivation>
				<specified />
			</derivation>
		</Attribute>

		<Attribute name="preModifyValidations">
			<type>
				<javaclass name="java.util.List">
					<ruleclass name="Validation"
						ruleset="EvidenceValidationRuleSet" />
				</javaclass>
			</type>
			<derivation>
				<fixedlist>
					<listof>
						<ruleclass name="Validation"
							ruleset="EvidenceValidationRuleSet" />
					</listof>
					<members>
						<reference attribute="effectiveDateValidator" />
					</members>
				</fixedlist>
			</derivation>
		</Attribute>

		<Attribute name="effectiveDateValidator">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference attribute="effectiveDateFailure" />
					<reference attribute="effectiveDateFailureMessage" />
				</create>
			</derivation>
		</Attribute>

		<Attribute name="effectiveDateFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Boolean" />
					</type>
					<when>
						<condition>
							<equals>
								<null />
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
							</equals>
						</condition>
						<value>
							<false />
						</value>
					</when>
					<when>
						<condition>
							<equals>
								<null />
								<reference attribute="effectiveFrom">
									<reference attribute="evidence" />
								</reference>
							</equals>
						</condition>
						<value>
							<false />
						</value>
					</when>
					<otherwise>
						<value>
							<compare comparison=">">
								<reference attribute="effectiveFrom">
									<reference attribute="evidence" />
								</reference>
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
							</compare>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

		<Attribute name="effectiveDateFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage
					key="ERR_EFFECTIVE_DATE_GREATER_THAN_END_DATE"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASMaritalRelationshipValidationRuleSet">
				</ResourceMessage>
			</derivation>
		</Attribute>

		<Attribute name="standardValidations">
			<type>
				<javaclass name="java.util.List">
					<ruleclass name="Validation"
						ruleset="EvidenceValidationRuleSet" />
				</javaclass>
			</type>
			<derivation>
				<fixedlist>
					<listof>
						<ruleclass name="Validation"
							ruleset="EvidenceValidationRuleSet" />
					</listof>
					<members>
						<reference attribute="overlapValidation" />
						<reference attribute="endDateMandatoryValidator" />
						<reference
							attribute="marriedRelationshipStatusAndSeparationRelationshipChangeTypeWithEndDateValidator" />
						<reference
							attribute="annulmentValidWithMarriedRelationshipStausValidator" />
						<reference
							attribute="livingApartForReasonsBeyondControlIsWithInMaritalRelationshipDateRangeValidator" />
					</members>
				</fixedlist>
			</derivation>
		</Attribute>

		<Attribute name="maritalRelationshipEvidenceList">
			<type>
				<javaclass name="java.util.List">
					<ruleclass name="BDMOASMaritalRelationship"
						ruleset="BDMOASMaritalRelationshipVerDataRuleSet" />
				</javaclass>
			</type>
			<derivation>
				<filter>
					<list alias="allMaritalRelationships">
						<readall ruleclass="BDMOASMaritalRelationship"
							ruleset="BDMOASMaritalRelationshipVerDataRuleSet">
							<match retrievedattribute="caseID">
								<reference attribute="caseID">
									<reference attribute="evidence" />
								</reference>
							</match>
						</readall>
					</list>
					<listitemexpression>
						<equals>
							<reference attribute="caseParticipantRoleID">
								<current alias="allMaritalRelationships" />
							</reference>
							<reference attribute="caseParticipantRoleID">
								<reference attribute="evidence" />
							</reference>
						</equals>
					</listitemexpression>
				</filter>
			</derivation>
		</Attribute>

		<!-- BR-3 -->

		<Attribute name="endDateMandatoryValidator">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference attribute="endDateMandatoryFailure" />
					<reference attribute="endDateMandatoryFailureMessage" />
				</create>
			</derivation>
		</Attribute>

		<Attribute name="endDateMandatoryFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Boolean" />
					</type>
					<when>
						<condition>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="java.lang.Boolean" />
									</listof>
									<members>
										<equals>
											<reference attribute="relationshipStatus">
												<reference attribute="evidence" />
											</reference>
											<!-- 'MR1' description 'Married' -->
											<Code table="BDMOASMaritalRelation">
												<String value="MR1" />
											</Code>
										</equals>
										<any>
											<fixedlist>
												<listof>
													<javaclass name="java.lang.Boolean" />
												</listof>
												<members>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT1' description 'Divorce' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT1" />
														</Code>
													</equals>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT2' description 'Death' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT2" />
														</Code>
													</equals>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT4' description 'Annulment' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT4" />
														</Code>
													</equals>
												</members>
											</fixedlist>
										</any>
										<equals>
											<reference attribute="endDate">
												<reference attribute="evidence" />
											</reference>
											<null />
										</equals>
									</members>
								</fixedlist>
							</all>
						</condition>
						<value>
							<true />
						</value>
					</when>
					<when>
						<condition>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="java.lang.Boolean" />
									</listof>
									<members>
										<equals>
											<reference attribute="relationshipStatus">
												<reference attribute="evidence" />
											</reference>
											<!-- 'MR2' description 'Common-Law' -->
											<Code table="BDMOASMaritalRelation">
												<String value="MR2" />
											</Code>
										</equals>
										<any>
											<fixedlist>
												<listof>
													<javaclass name="java.lang.Boolean" />
												</listof>
												<members>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT2' description 'Death' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT2" />
														</Code>
													</equals>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT3' description 'Separation' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT3" />
														</Code>
													</equals>
												</members>
											</fixedlist>
										</any>
										<equals>
											<reference attribute="endDate">
												<reference attribute="evidence" />
											</reference>
											<null />
										</equals>
									</members>
								</fixedlist>
							</all>
						</condition>
						<value>
							<true />
						</value>
					</when>
					<otherwise>
						<value>
							<false />
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

		<Attribute name="endDateMandatoryFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage key="ERR_END_DATE_MANDATORY"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASMaritalRelationshipValidationRuleSet">
					<reference attribute="relationshipStatus">
						<reference attribute="evidence" />
					</reference>
					<reference attribute="relationshipChangeType">
						<reference attribute="evidence" />
					</reference>
				</ResourceMessage>
			</derivation>
		</Attribute>


		<Attribute
			name="annulmentValidWithMarriedRelationshipStausValidator">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference
						attribute="annulmentValidWithMarriedRelationshipStausFailure" />
					<reference
						attribute="annulmentValidWithMarriedRelationshipStausFailureMessage" />
				</create>
			</derivation>
		</Attribute>

		<Attribute
			name="annulmentValidWithMarriedRelationshipStausFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Boolean" />
					</type>
					<when>
						<condition>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="java.lang.Boolean" />
									</listof>
									<members>
										<not>
											<equals>
												<reference attribute="relationshipStatus">
													<reference attribute="evidence" />
												</reference>
												<!-- 'MR1' description 'Married' -->
												<Code table="BDMOASMaritalRelation">
													<String value="MR1" />
												</Code>
											</equals>
										</not>
										<any>
											<fixedlist>
												<listof>
													<javaclass name="java.lang.Boolean" />
												</listof>
												<members>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT4' description 'Annulment' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT4" />
														</Code>
													</equals>
													<equals>
														<reference attribute="relationshipChangeType">
															<reference attribute="evidence" />
														</reference>
														<!-- 'MCT1' description 'Divorce' -->
														<Code table="BDMOASMaritalChangeType">
															<String value="MCT1" />
														</Code>
													</equals>
												</members>
											</fixedlist>
										</any>
									</members>
								</fixedlist>
							</all>
						</condition>
						<value>
							<true />
						</value>
					</when>
					<otherwise>
						<value>
							<false />
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

		<Attribute
			name="annulmentValidWithMarriedRelationshipStausFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage
					key="ERR_ANNUALMENT_ONLY_VALID_FOR_MARRIED_RELATIONSHIP_STATUS"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASMaritalRelationshipValidationRuleSet">
					<reference attribute="relationshipChangeType">
						<reference attribute="evidence" />
					</reference>
				</ResourceMessage>
			</derivation>
		</Attribute>


		<Attribute
			name="marriedRelationshipStatusAndSeparationRelationshipChangeTypeWithEndDateValidator">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference
						attribute="marriedRelationshipStatusAndSeparationRelationshipChangeTypeWithEndDateFailure" />
					<reference
						attribute="marriedRelationshipStatusAndSeparationRelationshipChangeTypeWithEndDateFailureMessage" />
				</create>
			</derivation>
		</Attribute>

		<Attribute
			name="marriedRelationshipStatusAndSeparationRelationshipChangeTypeWithEndDateFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Boolean" />
					</type>
					<when>
						<condition>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="java.lang.Boolean" />
									</listof>
									<members>

										<equals>
											<reference attribute="relationshipStatus">
												<reference attribute="evidence" />
											</reference>
											<!-- 'MR1' description 'Married' -->
											<Code table="BDMOASMaritalRelation">
												<String value="MR1" />
											</Code>
										</equals>

										<equals>
											<reference attribute="relationshipChangeType">
												<reference attribute="evidence" />
											</reference>
											<!-- 'MCT3' description 'Separation' -->
											<Code table="BDMOASMaritalChangeType">
												<String value="MCT3" />
											</Code>
										</equals>
										<not>
											<equals>
												<reference attribute="endDate">
													<reference attribute="evidence" />
												</reference>
												<null />
											</equals>
										</not>
									</members>
								</fixedlist>
							</all>
						</condition>
						<value>
							<true />
						</value>
					</when>
					<otherwise>
						<value>
							<false />
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

		<Attribute
			name="marriedRelationshipStatusAndSeparationRelationshipChangeTypeWithEndDateFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage
					key="ERR_END_DATE_MAY_NOT_ENTERED_WITH_MARRIED_STATUS_AND_SEPARATION_AS_REL_CHANGE_TYPE"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASMaritalRelationshipValidationRuleSet">
					<reference attribute="relationshipStatus">
						<reference attribute="evidence" />
					</reference>
					<reference attribute="relationshipChangeType">
						<reference attribute="evidence" />
					</reference>
				</ResourceMessage>
			</derivation>
		</Attribute>

		<Attribute name="overlapValidation">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference attribute="overlapFailure" />
					<reference attribute="overlapFailureMessage" />
				</create>
			</derivation>
		</Attribute>
		<Attribute name="overlapFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Boolean" />
					</type>
					<when>
						<condition>
							<equals>
								<null />
								<reference attribute="evidence" />
							</equals>
						</condition>
						<value>
							<false />
						</value>
					</when>
					<when>
						<condition>
							<equals>
								<reference attribute="relationshipChangeType">
									<reference attribute="evidence" />
								</reference>
								<!-- 'MCT4' description 'Annulment' -->
								<Code table="BDMOASMaritalChangeType">
									<String value="MCT4" />
								</Code>
							</equals>
						</condition>
						<value>
							<false />
						</value>
					</when>
					<otherwise>
						<value>
							<any>
								<dynamiclist>
									<list>
										<reference
											attribute="existingMaritalRelationshipObjectList" />
									</list>
									<listitemexpression>
										<any>
											<fixedlist>
												<listof>
													<javaclass name="Boolean" />
												</listof>
												<members>
													<property name="valueOn">
														<object>
															<reference attribute="existenceTimeline">
																<current />
															</reference>
														</object>
														<arguments>
															<reference attribute="startDate">
																<reference
																	attribute="maritalRelationshipObject" />
															</reference>
														</arguments>
													</property>
													<property name="valueOn">
														<object>
															<reference attribute="existenceTimeline">
																<current />
															</reference>
														</object>
														<arguments>
															<reference attribute="endDate">
																<reference
																	attribute="maritalRelationshipObject" />
															</reference>
														</arguments>
													</property>
													<property name="valueOn">
														<object>
															<reference attribute="existenceTimeline">
																<reference
																	attribute="maritalRelationshipObject" />
															</reference>
														</object>
														<arguments>
															<reference attribute="startDate">
																<current />
															</reference>
														</arguments>
													</property>
													<property name="valueOn">
														<object>
															<reference attribute="existenceTimeline">
																<reference
																	attribute="maritalRelationshipObject" />
															</reference>
														</object>
														<arguments>
															<reference attribute="endDate">
																<current />
															</reference>
														</arguments>
													</property>
												</members>
											</fixedlist>
										</any>
									</listitemexpression>
								</dynamiclist>
							</any>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
		<Attribute name="maritalRelationshipObject">
			<type>
				<ruleclass name="MaritalRelationshipObject" />
			</type>
			<derivation>
				<create ruleclass="MaritalRelationshipObject">
					<reference attribute="evidence" />
				</create>
			</derivation>
		</Attribute>
		<Attribute name="existingMaritalRelationshipObjectList">
			<type>
				<javaclass name="java.util.List">
					<ruleclass name="MaritalRelationshipObject" />
				</javaclass>
			</type>
			<derivation>
				<dynamiclist>
					<list>
						<reference attribute="maritalRelationshipEvidenceList" />
					</list>
					<listitemexpression>
						<choose>
							<type>
								<ruleclass name="MaritalRelationshipObject" />
							</type>
							<when>
								<condition>
									<equals>
										<reference attribute="successionID">
											<reference attribute="evidence" />
										</reference>
										<reference attribute="successionID">
											<current />
										</reference>
									</equals>
								</condition>
								<value>
									<create ruleclass="MaritalRelationshipObject">
										<reference attribute="evidence" />
										<specify attribute="startDate">
											<Date value="0001-01-01" />
										</specify>
										<specify attribute="endDate">
											<Date value="0001-01-01" />
										</specify>
										<specify attribute="existenceTimeline">
											<Timeline>
												<intervaltype>
													<javaclass name="Boolean" />
												</intervaltype>
												<initialvalue>
													<false />
												</initialvalue>
											</Timeline>
										</specify>
									</create>
								</value>
							</when>
							<otherwise>
								<value>
									<create ruleclass="MaritalRelationshipObject">
										<create ruleclass="BDMOASMaritalRelationship"
											ruleset="BDMOASMaritalRelationshipRuleSet">

											<specify attribute="caseParticipantRoleID">
												<reference attribute="caseParticipantRoleID">
													<current />
												</reference>
											</specify>
											<specify attribute="relatedCaseParticipantRoleID">
												<reference
													attribute="relatedCaseParticipantRoleID">
													<current />
												</reference>
											</specify>
											<specify attribute="relationshipStatus">
												<reference attribute="relationshipStatus">
													<current />
												</reference>
											</specify>
											<specify attribute="relationshipChangeType">
												<reference attribute="relationshipChangeType">
													<current />
												</reference>
											</specify>
											<specify attribute="startDate">
												<reference attribute="startDate">
													<current />
												</reference>
											</specify>
											<specify attribute="endDate">
												<reference attribute="endDate">
													<current />
												</reference>
											</specify>
										</create>
									</create>
								</value>
							</otherwise>
						</choose>
					</listitemexpression>
				</dynamiclist>
			</derivation>
		</Attribute>
		<Attribute name="overlapFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage
					key="ERR_MARITAL_RELATIONSHIP_EVIDENCE_OVERLAP"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASMaritalRelationshipValidationRuleSet" />
			</derivation>
		</Attribute>

		<Attribute
			name="livingApartForReasonsBeyondControlIsWithInMaritalRelationshipDateRangeValidator">
			<type>
				<ruleclass name="Validation"
					ruleset="EvidenceValidationRuleSet" />
			</type>
			<derivation>
				<create ruleclass="Validation"
					ruleset="EvidenceValidationRuleSet">
					<reference
						attribute="livingApartForReasonsBeyondControlIsWithInMaritalRelationshipDateRangeFailure" />
					<reference
						attribute="livingApartForReasonsBeyondControlIsWithInMaritalRelationshipDateRangeFailureMessage" />
				</create>
			</derivation>
		</Attribute>

		<Attribute
			name="livingApartForReasonsBeyondControlIsWithInMaritalRelationshipDateRangeFailure">
			<type>
				<javaclass name="java.lang.Boolean" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="java.lang.Boolean" />
					</type>
					<when>
						<condition>
							<equals>
								<reference
									attribute="related_BDMOASLivingApartforReasonsBeyondControl">
									<reference attribute="evidence" />
								</reference>
								<null />
							</equals>
						</condition>
						<value>
							<false />
						</value>
					</when>
					<when>
						<condition>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="Boolean" />
									</listof>
									<members>
										<all>
											<fixedlist>
												<listof>
													<javaclass name="Boolean" />
												</listof>
												<members>
													<not>
														<equals>
															<reference
																attribute="related_BDMOASLivingApartforReasonsBeyondControl">
																<reference attribute="evidence" />
															</reference>
															<null />
														</equals>
													</not>
													<compare comparison="&gt;">
														<property name="size">
															<object>
																<reference
																	attribute="related_BDMOASLivingApartforReasonsBeyondControl">
																	<reference attribute="evidence" />
																</reference>
															</object>
														</property>
														<Number value="0" />
													</compare>
												</members>
											</fixedlist>
										</all>
										<all>
											<dynamiclist>
												<list>
													<reference
														attribute="livingApartforReasonBeyondControlInRangeWithMaritalRelationshipTimeline" />
												</list>
												<listitemexpression>
													<all>
														<fixedlist>
															<listof>
																<javaclass name="Boolean" />
															</listof>
															<members>
																<property name="valueOn">
																	<object>
																		<reference attribute="existenceTimeline">
																			<reference
																				attribute="maritalRelationshipObject" />
																		</reference>
																	</object>
																	<arguments>
																		<reference attribute="startDate">
																			<current />
																		</reference>
																	</arguments>
																</property>
																<property name="valueOn">
																	<object>
																		<reference attribute="existenceTimeline">
																			<reference
																				attribute="maritalRelationshipObject" />
																		</reference>
																	</object>
																	<arguments>
																		<reference attribute="endDate">
																			<current />
																		</reference>
																	</arguments>
																</property>
															</members>
														</fixedlist>
													</all>
												</listitemexpression>
											</dynamiclist>
										</all>
									</members>
								</fixedlist>
							</all>
						</condition>
						<value>
							<false />
						</value>
					</when>
					<otherwise>
						<value>
							<true />
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>

		<Attribute
			name="livingApartForReasonsBeyondControlIsWithInMaritalRelationshipDateRangeFailureMessage">
			<type>
				<javaclass name="curam.creole.value.Message" />
			</type>
			<derivation>
				<ResourceMessage
					key="ERR_LIVING_APART_FOR_REASONS_BEYOND_CONTROL_OUT_SIDE_MARITAL_RELATIONSHIP_DATE_RANGE"
					resourceBundle="curam.ca.gc.bdmoas.evidence.BDMOASMaritalRelationshipValidationRuleSet" />
			</derivation>
		</Attribute>

		<Attribute
			name="livingApartforReasonBeyondControlInRangeWithMaritalRelationshipTimeline">
			<type>
				<javaclass name="java.util.List">
					<ruleclass
						name="LivingApartForReasonsBeyondControlObject" />
				</javaclass>
			</type>
			<derivation>
				<dynamiclist>
					<list alias="bdmOASLivingApartofReasonBeyondControl">
						<reference
							attribute="related_BDMOASLivingApartforReasonsBeyondControl">
							<reference attribute="evidence" />
						</reference>
					</list>
					<listitemexpression>
						<create
							ruleclass="LivingApartForReasonsBeyondControlObject">
							<current alias="bdmOASLivingApartofReasonBeyondControl"></current>
						</create>
					</listitemexpression>
				</dynamiclist>
			</derivation>
		</Attribute>

	</Class>

	<Class name="MaritalRelationshipObject">
		<Initialization>
			<Attribute name="evidence">
				<type>
					<ruleclass name="BDMOASMaritalRelationship"
						ruleset="BDMOASMaritalRelationshipRuleSet" />
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="startDate">
			<type>
				<javaclass name="curam.util.type.Date" />
			</type>
			<derivation>
				<reference attribute="startDate">
					<reference attribute="evidence" />
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="endDate">
			<type>
				<javaclass name="curam.util.type.Date" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="curam.util.type.Date" />
					</type>
					<when>
						<condition>
							<equals>
								<null />
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
							</equals>
						</condition>
						<value>
							<Date value="9999-12-31" />
						</value>
					</when>
					<otherwise>
						<value>
							<reference attribute="endDate">
								<reference attribute="evidence" />
							</reference>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
		<Attribute name="existenceTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean" />
				</javaclass>
			</type>
			<derivation>
				<existencetimeline>
					<intervaltype>
						<javaclass name="java.lang.Boolean" />
					</intervaltype>
					<intervalfromdate>
						<reference attribute="startDate">
							<reference attribute="evidence" />
						</reference>
					</intervalfromdate>
					<intervaltodate>
						<reference attribute="endDate">
							<reference attribute="evidence" />
						</reference>
					</intervaltodate>
					<preExistenceValue>
						<false />
					</preExistenceValue>
					<existenceValue>
						<true />
					</existenceValue>
					<postExistenceValue>
						<false />
					</postExistenceValue>
				</existencetimeline>
			</derivation>
		</Attribute>
	</Class>

	<Class name="LivingApartForReasonsBeyondControlObject">
		<Initialization>
			<Attribute name="evidence">
				<type>
					<ruleclass
						name="BDMOASLivingApartforReasonsBeyondControl"
						ruleset="BDMOASLivingApartforReasonsBeyondControlRuleSet" />
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="startDate">
			<type>
				<javaclass name="curam.util.type.Date" />
			</type>
			<derivation>
				<reference attribute="startDate">
					<reference attribute="evidence" />
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="endDate">
			<type>
				<javaclass name="curam.util.type.Date" />
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="curam.util.type.Date" />
					</type>
					<when>
						<condition>
							<equals>
								<null />
								<reference attribute="endDate">
									<reference attribute="evidence" />
								</reference>
							</equals>
						</condition>
						<value>
							<Date value="9999-12-31" />
						</value>
					</when>
					<otherwise>
						<value>
							<reference attribute="endDate">
								<reference attribute="evidence" />
							</reference>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
		<Attribute name="existenceTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean" />
				</javaclass>
			</type>
			<derivation>
				<existencetimeline>
					<intervaltype>
						<javaclass name="java.lang.Boolean" />
					</intervaltype>
					<intervalfromdate>
						<reference attribute="startDate">
							<reference attribute="evidence" />
						</reference>
					</intervalfromdate>
					<intervaltodate>
						<reference attribute="endDate">
							<reference attribute="evidence" />
						</reference>
					</intervaltodate>
					<preExistenceValue>
						<false />
					</preExistenceValue>
					<existenceValue>
						<true />
					</existenceValue>
					<postExistenceValue>
						<false />
					</postExistenceValue>
				</existencetimeline>
			</derivation>
		</Attribute>
	</Class>
</RuleSet>