<?xml version="1.0" encoding="UTF-8"?>

<!--
  Licensed Materials - Property of IBM

  PID 5725-H26

  Copyright IBM Corporation 2017, 2019. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<workflow-process category="PC1" id="46" language-version="1.0" process-version="1" released="true"> 
  <name>AdvancedEvidenceSharingIncomingListTask</name>  
  <process-display-name> 
    <localized-text> 
      <locale language="fr">Tâche de liste entrante de dossier de révision du partage d'informations collectées avancé</locale>  
      <locale language="en">Advanced Evidence Sharing Review Case Incoming List Task</locale>
    </localized-text> 
  </process-display-name>  
  <description> 
    <localized-text> 
      <locale language="fr">Processus de flux de travaux générique qui permet de
        créer des tâches standard pour le partage d'informations collectées avancé lorsqu'une intervention du gestionnaire conseil est nécessaire sur un dossier.</locale>  
      <locale language="en">Generic workflow process that is used to
        create standard tasks for Advanced Evidence Sharing when there is a need for case worker intervention on a case.</locale>
    </localized-text> 
  </description>  
  <enactment-mappings> 
    <mapping> 
      <source-attribute name="dtls.relatedID" struct-name="curam.core.sl.infrastructure.entity.struct.EvidenceDescriptorDtlsList"/>  
      <target-attribute name="relatedID" wdo-name="ActionedEvidenceWDO"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="subject" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="subject" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="priority" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="priority" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="assignedTo" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="assignedTo" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="assigneeType" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="assigneeType" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="participantRoleID" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="participantRoleID" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="participantType" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="participantType" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="caseID" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="caseID" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="reserveToMeInd" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="reserveToMeInd" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="comments" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="comments" wdo-name="TaskCreateDetails"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="deadlineDateTime" struct-name="curam.core.sl.struct.TaskCreateDetails"/>  
      <target-attribute name="deadlineDateTime" wdo-name="TaskCreateDetails"/> 
    </mapping> 
  </enactment-mappings>  
  <wdos> 
    <wdo> 
      <wdo-name>TaskCreateDetails</wdo-name>  
      <display-name> 
        <localized-text> 
          <locale language="fr">TaskCreateDetails</locale>  
          <locale language="en">TaskCreateDetails</locale>
        </localized-text> 
      </display-name>  
      <attributes> 
        <attribute> 
          <attribute-name>subject</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Sujet de la tâche</locale>  
              <locale language="en">Task subject</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>priority</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Priorité de la tâche</locale>  
              <locale language="en">Task priority</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>assignedTo</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Nom d'utilisateur</locale>  
              <locale language="en">User name</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>assigneeType</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Type de participant</locale>  
              <locale language="en">Assignee type</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>participantRoleID</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Participant</locale>  
              <locale language="en">Participant</locale>
            </localized-text> 
          </display-name>  
          <type>INT64</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>participantType</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Type de participant</locale>  
              <locale language="en">Participant type</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>caseID</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Dossier</locale>  
              <locale language="en">Case</locale>
            </localized-text> 
          </display-name>  
          <type>INT64</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>deadlineDateTime</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Date d'échéance</locale>  
              <locale language="en">Deadline date</locale>
            </localized-text> 
          </display-name>  
          <type>DATETIME</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>reserveToMeInd</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Réservé à l'utilisateur</locale>  
              <locale language="en">Reserve to user</locale>
            </localized-text> 
          </display-name>  
          <type>BOOLEAN</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute>  
        <attribute> 
          <attribute-name>comments</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Commentaires</locale>  
              <locale language="en">Comments</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment> 
        </attribute> 
      </attributes> 
    </wdo>  
    <wdo initialize-attributes="false" is-list-wdo="true"> 
      <wdo-name>ActionedEvidenceWDO</wdo-name>  
      <display-name> 
        <localized-text> 
          <locale language="fr">ActionedEvidenceWDO</locale>  
          <locale language="en">ActionedEvidenceWDO</locale>
        </localized-text> 
      </display-name>  
      <description> 
        <localized-text> 
          <locale language="fr">Contient une liste d'informations collectées actionnées par le courtier de partage d'informations collectées avancé.</locale>  
          <locale language="en">Contains a list of Evidences Actioned by Advanced Evidence Sharing Broker.</locale>
        </localized-text> 
      </description>  
      <attributes> 
        <attribute> 
          <attribute-name>relatedID</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">ID associé des informations collectées</locale>  
              <locale language="en">Evidence Related ID</locale>
            </localized-text> 
          </display-name>  
          <type>INT64</type>  
          <required-at-enactment>true</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute> 
      </attributes> 
    </wdo> 
  </wdos>  
  <activities> 
    <start-process-activity id="99"> 
      <name> 
        <localized-text> 
          <locale language="fr">Activité de processus de démarrage</locale>  
          <locale language="en">StartProcessActivity</locale>
        </localized-text> 
      </name>  
      <description> 
        <localized-text> 
          <locale language="fr">Activité du processus de début.</locale>  
          <locale language="en">The start process activity.</locale>
        </localized-text> 
      </description>  
      <split type="none"> 
        <transition-id idref="99"/> 
      </split> 
    </start-process-activity>  
    <end-process-activity id="-54"> 
      <name> 
        <localized-text> 
          <locale language="fr">Activité de processus de fin</locale>  
          <locale language="en">EndProcessActivity</locale>
        </localized-text> 
      </name>  
      <description> 
        <localized-text> 
          <locale language="fr">Activité du processus de fin</locale>  
          <locale language="en">The end process activity</locale>
        </localized-text> 
      </description>  
      <join type="none"/> 
    </end-process-activity>  
    <manual-activity category="AC1" id="54"> 
      <name> 
        <localized-text> 
          <locale language="fr">Dossier standard</locale>  
          <locale language="en">Standard Case</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="-54"/> 
      </split>  
      <task> 
        <message> 
          <message-text> 
            <localized-text> 
              <locale language="fr">Nouvelles informations collectées entrantes dans le dossier %1s devant être résolues.</locale>  
              <locale language="en">New Incoming Evidence on Case %1s that needs to be resolved.</locale>
            </localized-text> 
          </message-text>  
          <message-parameters> 
            <wdo-attribute name="subject" wdo-name="TaskCreateDetails"/> 
          </message-parameters> 
        </message>  
        <actions> 
          <action page-id="Case_resolveCaseHome" principal-action="true"> 
            <message> 
              <message-text> 
                <localized-text> 
                  <locale language="fr">Résoudre les informations collectées entrantes</locale>  
                  <locale language="en">Resolve Incoming Evidence</locale>
                </localized-text> 
              </message-text> 
            </message>  
            <link-parameter name="caseID"> 
              <wdo-attribute name="caseID" wdo-name="TaskCreateDetails"/> 
            </link-parameter> 
          </action> 
        </actions>  
        <task-priority> 
          <mapped-priority> 
            <wdo-attribute name="priority" wdo-name="TaskCreateDetails"/> 
          </mapped-priority> 
        </task-priority>  
        <initial-comment> 
          <wdo-attribute name="comments" wdo-name="TaskCreateDetails"/> 
        </initial-comment> 
      </task>  
      <allocation-strategy identifier="curam.core.sl.intf.WorkflowAllocationFunction.caseOwnerAllocationStrategy" type="function"> 
        <function-mappings> 
          <formal-parameters> 
            <formal-parameter index="0"> 
              <struct type="curam.core.sl.struct.CaseIDKey"> 
                <field name="caseID"> 
                  <base-type type="INT64"> 
                    <wdo-attribute name="caseID" wdo-name="TaskCreateDetails"/> 
                  </base-type> 
                </field> 
              </struct> 
            </formal-parameter> 
          </formal-parameters> 
        </function-mappings> 
      </allocation-strategy>  
      <event-wait wait-on-all-events="true"> 
        <events> 
          <event event-class="TASK" event-type="CLOSED" identifier="1"> 
            <event-match-attribute name="relatedID" wdo-name="ActionedEvidenceWDO"/>  
            <multiple-occurring-event> 
              <list-wdo-name>ActionedEvidenceWDO</list-wdo-name> 
            </multiple-occurring-event> 
          </event> 
        </events> 
      </event-wait>  
      <biz-object-associations> 
        <biz-object-association biz-object-type="BOT1"> 
          <wdo-attribute name="caseID" wdo-name="TaskCreateDetails"/> 
        </biz-object-association>  
        <biz-object-association biz-object-type="BOT2"> 
          <wdo-attribute name="participantRoleID" wdo-name="TaskCreateDetails"/> 
        </biz-object-association> 
      </biz-object-associations> 
    </manual-activity> 
  </activities>  
  <transitions> 
    <transition from-activity-idref="99" id="99" to-activity-idref="54"/>  
    <transition from-activity-idref="54" id="-54" to-activity-idref="-54"/> 
  </transitions> 
</workflow-process>
