<?xml version="1.0" encoding="UTF-8"?>

<!--
  Licensed Materials - Property of IBM
 
  Copyright IBM Corporation 2012. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure 
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<workflow-process category="PC5" createdBy="admin" creationDate="20090429T102326" id="28499" language-version="1.0" process-version="1" released="true"> 
  <name>ProcessPlannedItemApprovalCriteria</name>  
  <!--BEGIN, CR00361282, CL -->  
  <process-display-name> 
    <localized-text> 
      <locale language="fr">Traiter les critères d'approbation de l'élément planifié</locale>  
      <locale language="en">Process Planned Item Approval Criteria</locale>
    </localized-text> 
  </process-display-name>  
  <!--END, CR00361282 -->  
  <description> 
    <localized-text> 
      <locale language="fr">Flux de travaux pour traiter les critères d'approbation d'un élément planifié.</locale>  
      <locale language="en">Workflow for processing a planned item's approval criteria.</locale>
    </localized-text> 
  </description>  
  <enactment-mappings> 
    <mapping> 
      <source-attribute name="plannedItemID" struct-name="curam.serviceplans.workflow.wfl.struct.ApprovalCriteriaDetails"/>  
      <target-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="approvalType" struct-name="curam.serviceplans.workflow.wfl.struct.ApprovalCriteriaDetails"/>  
      <target-attribute name="approvalType" wdo-name="ApprovalCriteriaWDO"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="caseID" struct-name="curam.serviceplans.workflow.wfl.struct.ApprovalCriteriaDetails"/>  
      <target-attribute name="caseID" wdo-name="ApprovalCriteriaWDO"/> 
    </mapping>  
    <mapping> 
      <source-attribute name="userName" struct-name="curam.serviceplans.workflow.wfl.struct.ApprovalCriteriaDetails"/>  
      <target-attribute name="userName" wdo-name="ApprovalCriteriaWDO"/> 
    </mapping> 
  </enactment-mappings>  
  <wdos> 
    <wdo initialize-attributes="false" is-list-wdo="false"> 
      <wdo-name>ApprovalCriteriaWDO</wdo-name>  
      <display-name> 
        <localized-text> 
          <locale language="fr">ApprovalCriteriaWDO</locale>  
          <locale language="en">ApprovalCriteriaWDO</locale>
        </localized-text> 
      </display-name>  
      <description> 
        <localized-text> 
          <locale language="fr">Objet de données principal utilisé tout au long du flux de travaux.</locale>  
          <locale language="en">Main WDO object used throughout the workflow.</locale>
        </localized-text> 
      </description>  
      <attributes> 
        <attribute> 
          <attribute-name>plannedItemID</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">plannedItemID</locale>  
              <locale language="en">plannedItemID</locale>
            </localized-text> 
          </display-name>  
          <type>INT64</type>  
          <required-at-enactment>true</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute>  
        <attribute> 
          <attribute-name>approvalType</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">approvalType</locale>  
              <locale language="en">approvalType</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute>  
        <attribute> 
          <attribute-name>outstandingApprovals</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">outstandingApprovals</locale>  
              <locale language="en">outstandingApprovals</locale>
            </localized-text> 
          </display-name>  
          <type>BOOLEAN</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute>  
        <attribute> 
          <attribute-name>plannedItemUserApprovalRejected</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">plannedItemUserApprovalRejected</locale>  
              <locale language="en">plannedItemUserApprovalRejected</locale>
            </localized-text> 
          </display-name>  
          <type>BOOLEAN</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <initial-value>false</initial-value> 
        </attribute>  
        <attribute> 
          <attribute-name>caseID</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">ID du dossier</locale>  
              <locale language="en">caseID</locale>
            </localized-text> 
          </display-name>  
          <type>INT64</type>  
          <required-at-enactment>true</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute>  
        <attribute> 
          <attribute-name>eventType</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">type_événement</locale>  
              <locale language="en">eventType</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <initial-value>NoEvent</initial-value> 
        </attribute>  
        <attribute> 
          <attribute-name>plannedItemApprovalCriteriaID</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">plannedItemApprovalCriteriaID</locale>  
              <locale language="en">plannedItemApprovalCriteriaID</locale>
            </localized-text> 
          </display-name>  
          <type>INT64</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute>  
        <attribute> 
          <attribute-name>userName</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">Nom d'utilisateur</locale>  
              <locale language="en">userName</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>true</required-at-enactment>  
          <process-output>false</process-output> 
        </attribute>  
        <attribute> 
          <attribute-name>isProductPlannedItem</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">isProductPlannedItem</locale>  
              <locale language="en">isProductPlannedItem</locale>
            </localized-text> 
          </display-name>  
          <type>BOOLEAN</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <initial-value>false</initial-value> 
        </attribute>  
        <attribute> 
          <attribute-name>passedDeadline</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">passedDeadline</locale>  
              <locale language="en">passedDeadline</locale>
            </localized-text> 
          </display-name>  
          <type>BOOLEAN</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <initial-value>false</initial-value> 
        </attribute> 
      </attributes> 
    </wdo>  
    <wdo initialize-attributes="false" is-list-wdo="false"> 
      <wdo-name>ApprovalConstantsWDO</wdo-name>  
      <display-name> 
        <localized-text> 
          <locale language="fr">ApprovalConstantsWDO</locale>  
          <locale language="en">ApprovalConstantsWDO</locale>
        </localized-text> 
      </display-name>  
      <attributes> 
        <attribute> 
          <attribute-name>PREAPPROVAL</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">PREAPPROVAL</locale>  
              <locale language="en">PREAPPROVAL</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <constant-value>AW1</constant-value> 
        </attribute>  
        <attribute> 
          <attribute-name>POSTAPPROVAL</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">POSTAPPROVAL</locale>  
              <locale language="en">POSTAPPROVAL</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <constant-value>AW2</constant-value> 
        </attribute>  
        <attribute> 
          <attribute-name>FAILED_CRITERIA</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">FAILED_CRITERIA</locale>  
              <locale language="en">FAILED_CRITERIA</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <constant-value>ServicePlans.FailedApprovalCriteria</constant-value> 
        </attribute>  
        <attribute> 
          <attribute-name>PASSED_CRITERIA</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">PASSED_CRITERIA</locale>  
              <locale language="en">PASSED_CRITERIA</locale>
            </localized-text> 
          </display-name>  
          <type>STRING</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <constant-value>ServicePlans.PassedApprovalCriteria</constant-value> 
        </attribute>  
        <attribute> 
          <attribute-name>TRUE</attribute-name>  
          <display-name> 
            <localized-text> 
              <locale language="fr">TRUE</locale>  
              <locale language="en">TRUE</locale>
            </localized-text> 
          </display-name>  
          <type>BOOLEAN</type>  
          <required-at-enactment>false</required-at-enactment>  
          <process-output>false</process-output>  
          <constant-value>TRUE</constant-value> 
        </attribute> 
      </attributes> 
    </wdo> 
  </wdos>  
  <activities> 
    <start-process-activity id="1"> 
      <name> 
        <localized-text> 
          <locale language="fr">Activité de processus de début</locale>  
          <locale language="en">Start Process Activity</locale>
        </localized-text> 
      </name>  
      <description> 
        <localized-text> 
          <locale language="fr">Activité du processus de début</locale>  
          <locale language="en">The start process activity</locale>
        </localized-text> 
      </description>  
      <split type="none"> 
        <transition-id idref="19"/> 
      </split> 
    </start-process-activity>  
    <end-process-activity id="2"> 
      <name> 
        <localized-text> 
          <locale language="fr">Activité du processus de fin</locale>  
          <locale language="en">End Process Activity</locale>
        </localized-text> 
      </name>  
      <description> 
        <localized-text> 
          <locale language="fr">Activité du processus de fin</locale>  
          <locale language="en">The end process activity</locale>
        </localized-text> 
      </description>  
      <join type="xor"/> 
    </end-process-activity>  
    <automatic-activity category="AC1" id="5"> 
      <name> 
        <localized-text> 
          <locale language="fr">Traiter les critères d'approbation de l'élément planifié</locale>  
          <locale language="en">Process Planned Item Approval Criteria</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="xor"> 
        <transition-id idref="4"/>  
        <transition-id idref="15"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="processApprovalCriteriaForPlannedItem"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.workflow.wfl.struct.PlannedItemDetailsForApproval"> 
              <field name="plannedItemID"> 
                <base-type type="INT64"> 
                  <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field>  
              <field name="approvalType"> 
                <base-type type="STRING"> 
                  <wdo-attribute name="approvalType" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field>  
              <field name="caseID"> 
                <base-type type="INT64"> 
                  <wdo-attribute name="caseID" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters>  
        <return> 
          <struct> 
            <field name="dtls"> 
              <struct> 
                <field name="plannedItemApprovalCriteriaID"> 
                  <base-type> 
                    <wdo-attribute name="plannedItemApprovalCriteriaID" wdo-name="ApprovalCriteriaWDO"/> 
                  </base-type> 
                </field> 
              </struct> 
            </field> 
          </struct> 
        </return> 
      </bpo-mapping> 
    </automatic-activity>  
    <automatic-activity category="AC1" id="8"> 
      <name> 
        <localized-text> 
          <locale language="fr">Générer l'événement de résultat de l'approbation utilisateur de l'élément planifié</locale>  
          <locale language="en">Raise Planned Item User Approval Result Event</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="12"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="raisePIUserApprovalEvent"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.workflow.wfl.struct.PlannedItemUserApprovalResult"> 
              <field name="plannedItemUserApprovalRejected"> 
                <base-type type="BOOLEAN"> 
                  <wdo-attribute name="plannedItemUserApprovalRejected" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field>  
              <field name="plannedItemID"> 
                <base-type type="INT64"> 
                  <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field>  
              <field name="eventType"> 
                <base-type type="STRING"> 
                  <wdo-attribute name="eventType" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters> 
      </bpo-mapping> 
    </automatic-activity>  
    <automatic-activity category="AC1" id="9"> 
      <name> 
        <localized-text> 
          <locale language="fr">Mettre à jour le statut d'approbation de l'élément planifié sur Echec</locale>  
          <locale language="en">Update Planned Item Approval Status to Failed</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="9"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="processFailedApprovalCriteria"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.workflow.wfl.struct.PlannedItemIDAndApprovalCriteriaKey"> 
              <field name="key"> 
                <struct type="curam.serviceplans.sl.struct.PlannedItemIDAndApprovalCriteriaKey"> 
                  <field name="plannedItemID"> 
                    <base-type type="INT64"> 
                      <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                    </base-type> 
                  </field>  
                  <field name="plannedItemApprovalCriteriaID"> 
                    <base-type type="INT64"> 
                      <wdo-attribute name="plannedItemApprovalCriteriaID" wdo-name="ApprovalCriteriaWDO"/> 
                    </base-type> 
                  </field> 
                </struct> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters> 
      </bpo-mapping> 
    </automatic-activity>  
    <automatic-activity category="AC1" id="12"> 
      <name> 
        <localized-text> 
          <locale language="fr">Définir le statut des critères d'approbation de l'élément planifié</locale>  
          <locale language="en">Set Planned Item Approval Criteria Status</locale>
        </localized-text> 
      </name>  
      <join type="xor"/>  
      <split type="none"> 
        <transition-id idref="26"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="setPIApprovalCriteriaStatus"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.workflow.wfl.struct.PIApprovalCriteriaStatusUpdateDtls"> 
              <field name="dtls"> 
                <struct type="curam.serviceplans.sl.struct.PIApprovalCriteriaStatusUpdateDtls"> 
                  <field name="plannedItemID"> 
                    <base-type type="INT64"> 
                      <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                    </base-type> 
                  </field>  
                  <field name="approvalType"> 
                    <base-type type="STRING"> 
                      <wdo-attribute name="approvalType" wdo-name="ApprovalCriteriaWDO"/> 
                    </base-type> 
                  </field>  
                  <field name="eventType"> 
                    <base-type type="STRING"> 
                      <wdo-attribute name="eventType" wdo-name="ApprovalCriteriaWDO"/> 
                    </base-type> 
                  </field> 
                </struct> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters>  
        <return> 
          <struct> 
            <field name="outstandingApprovals"> 
              <base-type> 
                <wdo-attribute name="outstandingApprovals" wdo-name="ApprovalCriteriaWDO"/> 
              </base-type> 
            </field> 
          </struct> 
        </return> 
      </bpo-mapping> 
    </automatic-activity>  
    <automatic-activity category="AC1" id="13"> 
      <name> 
        <localized-text> 
          <locale language="fr">Vérifier que l'élément planifié a des critères d'approbation</locale>  
          <locale language="en">Ensure Planned Item has Approval Criteria</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="xor"> 
        <transition-id idref="20"/>  
        <transition-id idref="21"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="checkForApprovalCriteria"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.workflow.wfl.struct.PlannedItemDetailsForApproval"> 
              <field name="plannedItemID"> 
                <base-type type="INT64"> 
                  <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field>  
              <field name="approvalType"> 
                <base-type type="STRING"> 
                  <wdo-attribute name="approvalType" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field>  
              <field name="caseID"> 
                <base-type type="INT64"> 
                  <wdo-attribute name="caseID" wdo-name="ApprovalCriteriaWDO"/> 
                </base-type> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters>  
        <return> 
          <struct> 
            <field name="outstandingApprovals"> 
              <base-type> 
                <wdo-attribute name="outstandingApprovals" wdo-name="ApprovalCriteriaWDO"/> 
              </base-type> 
            </field>  
            <field name="isPlannedItemAssociatedToProduct"> 
              <base-type> 
                <wdo-attribute name="isProductPlannedItem" wdo-name="ApprovalCriteriaWDO"/> 
              </base-type> 
            </field> 
          </struct> 
        </return> 
      </bpo-mapping> 
    </automatic-activity>  
    <automatic-activity category="AC1" id="14"> 
      <name> 
        <localized-text> 
          <locale language="fr">Définir le statut de traitement d'approbation de l'élément planifié 1</locale>  
          <locale language="en">Set Planned Item Approval Processing Status 1</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="28"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="setApprovalProcessingStatusToReadyForApproval"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.facade.struct.PlannedItemIDKey"> 
              <field name="plannedItemIDKey"> 
                <struct type="curam.serviceplans.sl.struct.PlannedItemIDKey"> 
                  <field name="plannedItemIDKey"> 
                    <struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey"> 
                      <field name="plannedItemID"> 
                        <base-type type="INT64"> 
                          <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                        </base-type> 
                      </field> 
                    </struct> 
                  </field> 
                </struct> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters> 
      </bpo-mapping> 
    </automatic-activity>  
    <automatic-activity category="AC1" id="18"> 
      <name> 
        <localized-text> 
          <locale language="fr">Définir le statut de traitement d'approbation de l'élément planifié 2</locale>  
          <locale language="en">Set Planned Item Approval Processing Status 2</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="30"/> 
      </split>  
      <bpo-mapping interface-name="curam.serviceplans.workflow.wfl.intf.PlannedItemApprovals" method-name="setApprovalProcessingStatusToReadyForApproval"> 
        <formal-parameters> 
          <formal-parameter index="0"> 
            <struct type="curam.serviceplans.facade.struct.PlannedItemIDKey"> 
              <field name="plannedItemIDKey"> 
                <struct type="curam.serviceplans.sl.struct.PlannedItemIDKey"> 
                  <field name="plannedItemIDKey"> 
                    <struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey"> 
                      <field name="plannedItemID"> 
                        <base-type type="INT64"> 
                          <wdo-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
                        </base-type> 
                      </field> 
                    </struct> 
                  </field> 
                </struct> 
              </field> 
            </struct> 
          </formal-parameter> 
        </formal-parameters> 
      </bpo-mapping> 
    </automatic-activity>  
    <subflow-activity category="AC1" id="7"> 
      <name> 
        <localized-text> 
          <locale language="fr">Traiter la vérification d'approbation utilisateur de l'élément de plan</locale>  
          <locale language="en">Process Plan Item User Approval Check</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="xor"> 
        <transition-id idref="8"/>  
        <transition-id idref="29"/> 
      </split>  
      <subflow synchronous="true" workflow-process="PlannedItemUserApprovalCheck"/>  
      <input-mappings> 
        <mapping> 
          <source-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/>  
          <target-attribute name="plannedItemID" wdo-name="PlannedItemUserApprovalWDO"/> 
        </mapping>  
        <mapping> 
          <source-attribute name="userName" wdo-name="ApprovalCriteriaWDO"/>  
          <target-attribute name="userName" wdo-name="PlannedItemUserApprovalWDO"/> 
        </mapping>  
        <mapping> 
          <source-attribute name="caseID" wdo-name="ApprovalCriteriaWDO"/>  
          <target-attribute name="caseID" wdo-name="PlannedItemUserApprovalWDO"/> 
        </mapping> 
      </input-mappings>  
      <output-mappings> 
        <mapping> 
          <source-attribute name="plannedItemUserApprovalRejected" wdo-name="PlannedItemUserApprovalWDO"/>  
          <target-attribute name="plannedItemUserApprovalRejected" wdo-name="ApprovalCriteriaWDO"/> 
        </mapping> 
      </output-mappings> 
    </subflow-activity>  
    <route-activity category="AC1" id="17"> 
      <name> 
        <localized-text> 
          <locale language="fr">Assemblage 4</locale>  
          <locale language="en">Join 4</locale>
        </localized-text> 
      </name>  
      <join type="xor"/>  
      <split type="xor"> 
        <transition-id idref="22"/>  
        <transition-id idref="23"/> 
      </split> 
    </route-activity>  
    <route-activity category="AC1" id="16"> 
      <name> 
        <localized-text> 
          <locale language="fr">Assemblage 3</locale>  
          <locale language="en">Join 3</locale>
        </localized-text> 
      </name>  
      <join type="xor"/>  
      <split type="none"> 
        <transition-id idref="27"/> 
      </split> 
    </route-activity>  
    <route-activity category="AC1" id="10"> 
      <name> 
        <localized-text> 
          <locale language="fr">Assemblage 2</locale>  
          <locale language="en">Join 2</locale>
        </localized-text> 
      </name>  
      <join type="xor"/>  
      <split type="xor"> 
        <transition-id idref="6"/>  
        <transition-id idref="31"/>  
        <transition-id idref="13"/> 
      </split> 
    </route-activity>  
    <route-activity category="AC1" id="15"> 
      <name> 
        <localized-text> 
          <locale language="fr">Assemblage 1</locale>  
          <locale language="en">Join 1</locale>
        </localized-text> 
      </name>  
      <join type="xor"/>  
      <split type="none"> 
        <transition-id idref="25"/> 
      </split> 
    </route-activity>  
    <loop-begin-activity category="AC1" id="3"> 
      <name> 
        <localized-text> 
          <locale language="fr">startForEachPlannedItemApprovalCriteria [Début]</locale>  
          <locale language="en">startForEachPlannedItemApprovalCriteria [Begin]</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="2"/> 
      </split>  
      <loop-type name="do-while"/>  
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.outstandingApprovals" data-item-rhs="ApprovalConstantsWDO.TRUE" id="1" operation="=="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.eventType" data-item-rhs="ApprovalConstantsWDO.PASSED_CRITERIA" id="2" opening-brackets="1" operation="=="/>  
        <expression closing-brackets="1" conjunction="or" data-item-lhs="ApprovalCriteriaWDO.approvalType" data-item-rhs="ApprovalConstantsWDO.POSTAPPROVAL" id="3" operation="=="/> 
      </condition>  
      <block-endpoint-ref activity-id="4"/> 
    </loop-begin-activity>  
    <loop-end-activity category="AC1" id="4"> 
      <name> 
        <localized-text> 
          <locale language="fr">startForEachPlannedItemApprovalCriteria [Fin]</locale>  
          <locale language="en">startForEachPlannedItemApprovalCriteria [End]</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="none"> 
        <transition-id idref="24"/> 
      </split>  
      <block-endpoint-ref activity-id="3"/> 
    </loop-end-activity>  
    <event-wait-activity category="AC1" id="6"> 
      <name> 
        <localized-text> 
          <locale language="fr">Patienter pendant la finalisation des critères d'approbation</locale>  
          <locale language="en">Wait for Approval Criteria to Complete</locale>
        </localized-text> 
      </name>  
      <join type="none"/>  
      <split type="xor"> 
        <transition-id idref="18"/>  
        <transition-id idref="17"/> 
      </split>  
      <event-wait wait-on-all-events="false"> 
        <events> 
          <event event-class="ServicePlans" event-type="PassedApprovalCriteria" identifier="1"> 
            <event-match-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
          </event>  
          <event event-class="ServicePlans" event-type="FailedApprovalCriteria" identifier="2"> 
            <event-match-attribute name="plannedItemID" wdo-name="ApprovalCriteriaWDO"/> 
          </event> 
        </events>  
        <event-output-mappings> 
          <event-type name="eventType" wdo-name="ApprovalCriteriaWDO"/> 
        </event-output-mappings>  
        <deadline complete-activity="true"> 
          <duration> 
            <seconds>604800</seconds> 
          </duration>  
          <deadline-output-mappings> 
            <duration-expired name="passedDeadline" wdo-name="ApprovalCriteriaWDO"/> 
          </deadline-output-mappings> 
        </deadline> 
      </event-wait> 
    </event-wait-activity> 
  </activities>  
  <transitions> 
    <transition from-activity-idref="3" id="2" to-activity-idref="5"/>  
    <transition from-activity-idref="5" id="4" to-activity-idref="6"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.approvalType" data-item-rhs="ApprovalConstantsWDO.PREAPPROVAL" id="1" operation="=="/> 
      </condition> 
    </transition>  
    <transition from-activity-idref="10" id="6" to-activity-idref="7"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.approvalType" data-item-rhs="ApprovalConstantsWDO.PREAPPROVAL" id="1" operation="=="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.isProductPlannedItem" data-item-rhs="ApprovalConstantsWDO.TRUE" id="2" operation="!="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.eventType" data-item-rhs="ApprovalConstantsWDO.FAILED_CRITERIA" id="3" operation="!="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.passedDeadline" data-item-rhs="ApprovalConstantsWDO.TRUE" id="4" operation="!="/> 
      </condition> 
    </transition>  
    <transition from-activity-idref="7" id="8" to-activity-idref="14"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.plannedItemUserApprovalRejected" data-item-rhs="ApprovalConstantsWDO.TRUE" id="1" operation="!="/> 
      </condition> 
    </transition>  
    <transition from-activity-idref="9" id="9" to-activity-idref="15"/>  
    <transition from-activity-idref="8" id="12" to-activity-idref="2"/>  
    <transition from-activity-idref="10" id="13" to-activity-idref="17"/>  
    <transition from-activity-idref="5" id="15" to-activity-idref="12"/>  
    <transition from-activity-idref="6" id="17" to-activity-idref="15"/>  
    <transition from-activity-idref="6" id="18" to-activity-idref="9"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.eventType" data-item-rhs="ApprovalConstantsWDO.FAILED_CRITERIA" id="1" operation="=="/>  
        <expression conjunction="or" data-item-lhs="ApprovalCriteriaWDO.passedDeadline" data-item-rhs="ApprovalConstantsWDO.TRUE" id="2" operation="=="/> 
      </condition> 
    </transition>  
    <transition from-activity-idref="1" id="19" to-activity-idref="13"/>  
    <transition from-activity-idref="13" id="20" to-activity-idref="3"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.outstandingApprovals" data-item-rhs="ApprovalConstantsWDO.TRUE" id="1" operation="=="/> 
      </condition> 
    </transition>  
    <transition from-activity-idref="13" id="21" to-activity-idref="10"/>  
    <transition from-activity-idref="17" id="22" to-activity-idref="8"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.approvalType" data-item-rhs="ApprovalConstantsWDO.PREAPPROVAL" id="1" operation="=="/> 
      </condition> 
    </transition>  
    <transition from-activity-idref="17" id="23" to-activity-idref="2"/>  
    <transition from-activity-idref="4" id="24" to-activity-idref="10"/>  
    <transition from-activity-idref="15" id="25" to-activity-idref="12"/>  
    <transition from-activity-idref="12" id="26" to-activity-idref="4"/>  
    <transition from-activity-idref="16" id="27" to-activity-idref="17"/>  
    <transition from-activity-idref="14" id="28" to-activity-idref="16"/>  
    <transition from-activity-idref="7" id="29" to-activity-idref="16"/>  
    <transition from-activity-idref="18" id="30" to-activity-idref="17"/>  
    <transition from-activity-idref="10" id="31" to-activity-idref="18"> 
      <condition> 
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.approvalType" data-item-rhs="ApprovalConstantsWDO.PREAPPROVAL" id="1" operation="=="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.isProductPlannedItem" data-item-rhs="ApprovalConstantsWDO.TRUE" id="2" operation="=="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.eventType" data-item-rhs="ApprovalConstantsWDO.FAILED_CRITERIA" id="3" operation="!="/>  
        <expression conjunction="and" data-item-lhs="ApprovalCriteriaWDO.passedDeadline" data-item-rhs="ApprovalConstantsWDO.TRUE" id="4" operation="!="/> 
      </condition> 
    </transition> 
  </transitions> 
</workflow-process>
