<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM

  Copyright IBM Corporation 2019, 2020. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<api> 
  <version
    minorVersion="v1.2"
    number="v1">
    
    <!-- Upload a file-->
    <resource path="/dbs/files">
      <method verb="POST">
        <consumes>
          <type>*/*</type>
        </consumes>
        <facade
          class="SPMFileAPI"
          method="uploadFile"
        />
        <tags>
          <tag>Universal Access</tag>
        </tags>
      </method>
    </resource>


    <!-- Download a file -->
    <resource path="/dbs/files/{fileId}">
      <method verb="GET">
        <produces>
          <type>*/*</type>
        </produces>
        <facade
          class="SPMFileAPI"
          method="downloadFile"
        />
        <tags>
          <tag>Universal Access</tag>
        </tags>
      </method>
      <!-- Delete a file -->
      <method verb="DELETE">
        <facade
          class="SPMFileAPI"
          method="deleteFile"
        />
        <tags>
          <tag>Universal Access</tag>
        </tags>
      </method>
    </resource>


    <!-- Domain API to Upload a file-->
    <resource path="/api/docs/files" open-api="true">
      <method verb="POST">
        <consumes>
          <type>*/*</type>
        </consumes>
        <facade
          class="DOMFileAPI"
          method="uploadFile"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>

    <!-- Download a file -->
    <resource path="/api/docs/files/{file_id}" open-api="true">
      <method verb="GET">
        <produces>
          <type>*/*</type>
        </produces>
        <facade
          class="DOMFileAPI"
          method="downloadFile"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
      <!-- Delete a file -->
      <method verb="DELETE">
        <facade
          class="DOMFileAPI"
          method="deleteFile"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!--  List Persons -->
    <resource path="/api/core/persons" open-api="true">
      <method verb="GET">
        <facade
          class="DOMPersonAPI"
          method="listPersons"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- Get Person Data -->
    <resource path="/api/core/persons/{person_id}" open-api="true">
      <method verb="GET">
        <facade
          class="DOMPersonAPI"
          method="readPerson"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
     <!-- Person Link File -->
    <resource path="/api/core/persons/{person_id}/file_links" open-api="true">              
      <method verb="POST" response="true">
        <facade
          class="DOMPersonFileLinkAPI"
          method="createPersonFileLink"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
      <method verb="GET">
        <facade
          class="DOMPersonFileLinkAPI"
          method="listPersonFileLinks"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
     <!-- Case Link File -->
    <resource path="/api/core/cases/{case_id}/file_links" open-api="true">
      <method verb="POST" response="true">
        <facade
          class="DOMCaseFileLinkAPI"
          method="createCaseFileLink"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
      <method verb="GET">
        <facade
          class="DOMCaseFileLinkAPI"
          method="listCaseFileLinks"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- DELETE the link between a file and the case -->
    <resource path="/api/core/cases/{case_id}/file_links/{link_id}" open-api="true">
      <method verb="DELETE">
        <facade
          class="DOMCaseFileLinkAPI"
          method="cancelCaseFileLink"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- GET Person Note Data -->
    <resource path="/api/core/persons/{person_id}/notes/{note_id}" open-api="true">
      <method verb="GET">
        <facade
          class="DOMPersonNoteAPI"
          method="readPersonNote"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>

    <!-- GET Collection of Person Note Data -->
    <resource path="/api/core/persons/{person_id}/notes" open-api="true">
      <method verb="GET">
        <facade
          class="DOMPersonNoteAPI"
          method="listPersonNotes"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- GET Case Note Data -->
    <resource path="/api/core/cases/{case_id}/notes/{note_id}" open-api="true">
      <method verb="GET">
        <facade
          class="DOMCaseNoteAPI"
          method="readCaseNote"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- GET collection of notes by case_id -->
	<resource path="/api/core/cases/{case_id}/notes" open-api="true">
	  <method verb="GET">
	    <facade
	      class="DOMCaseNoteAPI"
	      method="listCaseNotes"
	    />
	    <tags>
	      <tag>Domain API</tag>
	    </tags>
	  </method>
	</resource>
  

    <!-- DELETE the link between a file and the person -->
    <resource path="/api/core/persons/{person_id}/file_links/{link_id}" open-api="true">
      <method verb="DELETE">
        <facade
          class="DOMPersonFileLinkAPI"
          method="cancelPersonFileLink"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
     <!-- GET special cautions -->
      <resource path="/api/core/persons/{person_id}/cautions" open-api="true">
      <method verb="GET">
        <facade
          class="DOMPersonCautionAPI"
          method="readSpecialCautionsForPerson"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- POST external file link -->
    <resource path="/api/docs/locations" open-api="true">
      <method verb="POST" response="true">
        <facade
          class="DOMFileLocationAPI"
          method="createExternalFileLocation"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
     
    <resource path="/api/docs/locations/{location_id}" open-api="true">
      <!-- GET external file link -->
      <method verb="GET">
        <facade
          class="DOMFileLocationAPI"
          method="readExternalFileLocation"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
      <!-- DELETE external file link -->
      <method verb="DELETE">
        <facade
          class="DOMFileLocationAPI"
          method="cancelExternalFileLocation"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
      <!-- GET CaseOverview data -->
    <resource path="/api/core/case_overviews/{case_id}" open-api="true">
      <method verb="GET">
        <facade
          class="DOMCaseOverviewAPI"
          method="readCaseOverview"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
      <!-- GET CaseOverviews based on a Case Reference -->
    <resource path="/api/core/case_overviews" open-api="true">
      <method verb="GET">
        <facade
          class="DOMCaseOverviewAPI"
          method="listCaseOverviews"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- GET Verification -->
    <resource path="/api/core/verifications/{verification_id}" open-api="true">
      <method verb="GET">
        <facade
          class="DOMVerificationAPI"
          method="readVerification"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- GET Verifications for a Case or Person -->
    <resource path="/api/core/verifications" open-api="true">
      <method verb="GET">
        <facade
          class="DOMVerificationAPI"
          method="listVerifications"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>

	<!-- POST Verification files link -->
    <resource path="/api/core/verifications/{verification_id}/file_links" open-api="true">
      <method verb="POST" response="true">
        <facade
          class="DOMVerificationFileLinkAPI"
          method="createVerificationFileLink"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- DELETE the link between a File and a Verification -->
    <resource path="/api/core/verifications/{verification_id}/file_links/{link_id}" open-api="true">
      <method verb="DELETE">
        <facade
          class="DOMVerificationFileLinkAPI"
          method="cancelVerificationFileLink"
        />
        <tags>
          <tag>Domain API</tag>
        </tags>
      </method>
    </resource>
    
    <!-- New resources can be added below -->
    
    </version>
</api>
