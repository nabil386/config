<EvidenceTypeVersion 
  businessEndDate="toDate"
  businessStartDate="fromDate"
  modifiable="true"
  >
  <Model>
    <Attributes>
      <Attribute>
        <DataAttribute name="fromDate" mandatory="true">
          <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="toDate">
          <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <CommentsAttribute name="comments"/>
      </Attribute>
      <Attribute>
        <RelatedCPAttribute cpRoleType="MEM" name="caseParticipant" participantType="Person"/>
      </Attribute>
      <Attribute>
        <DataAttribute name="nativeStatus"  mandatory="true">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMAlertsChoice"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="incomeTaxFromPay">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMAlertsChoice"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="incomeTaxOnlyPart">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMAlertsChoice"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="numberOfdependant">
          <DomainType dataType="Integer">
            <NumericOptions maxValue="99" minValue="0"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
       <Attribute>
        <DataAttribute name="taxCredit"  mandatory="true">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMTaxSituation"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
    </Attributes>
    <Relationships/>
  </Model>
	<Validations>
		<PatternValidations>
			<Validator>
				<ComparisonValidator operator="LessThan"
					shallow="false" source="fromDate" target="toDate"
					useClause="false" useLiteral="false" >
					<ValidationMessageInformation>
						<ValidationMessageMapping>
							<ValidationMessage>
								<ValidationMessageResource
									id="FROM_DATE_SHOULD_BE_BEFORE_TO_DATE" />
							</ValidationMessage>
						</ValidationMessageMapping>
					</ValidationMessageInformation>
				</ComparisonValidator>
			</Validator>
		<Validator>
			<DependentAttributeValidator
				dependency="MustEnter" source="nativeStatus" sourceLiteral="Yes"
				target="incomeTaxFromPay" unidirectional="true"
				useSourceLiteral="true">
				<ValidationMessageInformation>
					<ValidationMessageMapping>
						<ValidationMessage>
							<ValidationMessageResource
								id="ERR_MUST_ENTER_INCOME_TAX_PAY" />
						</ValidationMessage>
					</ValidationMessageMapping>
				</ValidationMessageInformation>
			</DependentAttributeValidator>
		</Validator>
		<Validator>
			<DependentAttributeValidator
				dependency="MustNotEnter" source="nativeStatus" sourceLiteral="No"
				target="incomeTaxFromPay" unidirectional="true"
				useSourceLiteral="true">
				<ValidationMessageInformation>
					<ValidationMessageMapping>
						<ValidationMessage>
							<ValidationMessageResource
								id="ERR_NOT_VALID_INCOME_TAX_PAY" />
						</ValidationMessage>
					</ValidationMessageMapping>
				</ValidationMessageInformation>
			</DependentAttributeValidator>
		</Validator>
		<Validator>
			<DependentAttributeValidator
				dependency="MustEnter" source="incomeTaxFromPay" sourceLiteral="Yes"
				target="incomeTaxOnlyPart" unidirectional="true"
				useSourceLiteral="true">
				<ValidationMessageInformation>
					<ValidationMessageMapping>
						<ValidationMessage>
							<ValidationMessageResource
								id="ERR_MUST_ENTER_INCOME_TAX_PAY_ONLY_PART" />
						</ValidationMessage>
					</ValidationMessageMapping>
				</ValidationMessageInformation>
			</DependentAttributeValidator>
		</Validator>
		<Validator>
			<DependentAttributeValidator
				dependency="MustNotEnter" source="incomeTaxFromPay" sourceLiteral="No"
				target="incomeTaxOnlyPart" unidirectional="true"
				useSourceLiteral="true">
				<ValidationMessageInformation>
					<ValidationMessageMapping>
						<ValidationMessage>
							<ValidationMessageResource
								id="ERR_PART_PAY_MUST_BE_BLANK" />
						</ValidationMessage>
					</ValidationMessageMapping>
				</ValidationMessageInformation>
			</DependentAttributeValidator>
		</Validator>
	  </PatternValidations>
	  <CustomRulesValidation ruleSetName="BDMTaxCreditValidationRuleSet"/>
	</Validations>
  <SummaryInformation>
    <SummaryRuleset ruleSetName="BDMTaxCreditSummaryRuleSet"/>
  </SummaryInformation>
  <UserInterface>
    <Cluster>
      <RelCPCluster defaultToBlank="false" enableMultiMemberUpdates="false" fullCreateParticipant="false" isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" modifyOption="no" showParticipantTypeFilter="true" useSingleName="false">
        <StandardField source="caseParticipant"/>
        <ClusterName id="Related.Participant.Cluster.ID2"/>
        <LabelName id="Name.Label.ID2"/>
        <RelCpPfx id="Participant.Description.ID2"/>
        <FirstName id="First.Name.Label.ID2"/>
        <SecondName id="Second.Name.Label.ID2"/>
      </RelCPCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="1">
        <Title id="Cluster.Title.ID1"/>
        
         <StandardClusterField>
          <StandardField modifiable="false" source="taxCredit" useBlank="true">
            <Label id="Field.Label.ID8"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="numberOfdependant">
            <Label id="Field.Label.ID9"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="nativeStatus" useBlank="true">
            <Label id="Field.Label.ID5"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="incomeTaxFromPay" useBlank="true">
            <Label id="Field.Label.ID6"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="incomeTaxOnlyPart" useBlank="true">
            <Label id="Field.Label.ID7"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="fromDate" useDefault="true">
            <Label id="Field.Label.ID1"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="toDate">
            <Label id="Field.Label.ID2"/>
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <CommentsCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true">
        <Title id="Comments.Cluster.Title.ID3"/>
        <StandardField source="comments"/>
      </CommentsCluster>
    </Cluster>
  </UserInterface>
</EvidenceTypeVersion>