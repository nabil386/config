<?xml version="1.0" encoding="UTF-8"?>
<EvidenceTypeVersion
  correctionOnly="true"
  modifiable="true"
  relatedParticipant="person"
>
  <Model>
    <Attributes>
      <Attribute>
        <RelatedCPAttribute
          cpRoleType="MEM"
          name="person"
          participantType="Person"
        >
          <CPSearchType code="PRI"/>
          <CPSearchType code="MEM"/>
        </RelatedCPAttribute>
      </Attribute>
      <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Attribute>
        <DataAttribute name="birthFirstName">
          <DomainType dataType="String">
            <StringOptions
              maxSize="65"
              trimLeadingSpaces="true"
              trimTrailingSpaces="true"
            />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Attribute>
        <DataAttribute name="birthLastName">
          <DomainType dataType="String">
            <StringOptions
              maxSize="65"
              trimLeadingSpaces="true"
              trimTrailingSpaces="true"
            />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="mothersBirthLastName">
          <DomainType dataType="String">
            <StringOptions
              maxSize="65"
              trimLeadingSpaces="true"
              trimTrailingSpaces="true"
            />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <!-- BEGIN - User Story 21834 - Added Attestee Case Participant -->
		<Attribute>
			<RelatedCPAttribute cpRoleType="MEM" name="attesteeCaseParticipant"  participantType="Person"/>
		</Attribute>
		<!-- END - User Story 21834 - Added Attestee Case Participant -->
      <!-- BEGIN - User Story 21834 - Added Attestation Agree Drop Down -->
      <Attribute>
        <DataAttribute name="bdmAgreeAttestation" >
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMAgreeAttestation"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <!-- END - User Story 21834 - Added Attestation Agree Drop Down -->
      <!-- BEGIN - User Story 21834 - Added Attestation Date -->
      <Attribute>
        <DataAttribute name="attestationDate">
           <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <!-- END - User Story 21834 - Added Attestation Date -->
      <Attribute>
        <DataAttribute name="dateOfBirth" mandatory="true">
          <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Attribute>
        <DataAttribute name="countryOfBirth">
          <DomainType dataType="Codetable">
            <CodetableOptions
                codetableName="Country" />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Attribute>
        <DataAttribute name="dateOfDeath">
          <DomainType dataType="Date">
            <DateOptions currentDate="LessThanOrEqualTo"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Attribute>
        <DataAttribute name="dateNotifiedOfDeath">
          <DomainType dataType="Date">
            <DateOptions currentDate="LessThanOrEqualTo"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="countryOfDeath">
          <DomainType dataType="Codetable">
            <CodetableOptions
                codetableName="Country" />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="bdmReceivedFrom"
            defaultValue="RF3">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMReceivedFrom" />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="bdmReceivedFromCountry">
          <DomainType dataType="Codetable">
            <CodetableOptions
                codetableName="BDMSourceCountry" />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="bdmModeOfReceipt">
          <DomainType dataType="Codetable">
            <CodetableOptions
                codetableName="BDMModeOfReceipt" />
          </DomainType>
        </DataAttribute>
      </Attribute>
      <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Attribute>
        <CommentsAttribute name="comments"/>
      </Attribute>
    </Attributes>
    <Relationships/>
  </Model>
  <Validations>
    <PatternValidations>
      <Validator>
        <ComparisonValidator
          operator="GreaterThanOrEqualTo"
          shallow="false"
          source="dateOfDeath"
          target="dateOfBirth"
          useClause="false"
          useLiteral="false"
        />
      </Validator>
      <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      <Validator>
        <DependentAttributeValidator
          dependency="MustEnter"
          source="dateOfDeath"
          target="dateNotifiedOfDeath"
          unidirectional="true"
        >
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_DATE_NOTIFIED_OF_DEATH_EMPTY_FOR_DOD"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
      <Validator>
        <ComparisonValidator
          operator="GreaterThanOrEqualTo"
          shallow="false"
          source="dateNotifiedOfDeath"
          target="dateOfDeath"
          useClause="false"
          useLiteral="false"
        >
          <ValidationMessageInformation>
              <ValidationMessageMapping>
                  <ValidationMessage>
                      <ValidationMessageResource
                          id="ERR_DATE_NOTIFIED_OF_DEATH_MUST_BE_ON_OR_AFTER_DOD" />
                  </ValidationMessage>
              </ValidationMessageMapping>
          </ValidationMessageInformation>
        </ComparisonValidator>
      </Validator>
      <Validator>
        <DependentAttributeValidator
          dependency="MustEnter"
          source="dateOfDeath"
          target="countryOfDeath"
          unidirectional="true"
        >
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_COUNTRY_OF_DEATH_EMPTY_FOR_DOD"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
      <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
    </PatternValidations>
    <CustomRulesValidation ruleSetName="PDCBirthAndDeathValidationRuleSet"/>
  </Validations>
  <SummaryInformation>
    <SummaryRuleset ruleSetName="PDCBirthAndDeathSummaryRuleSet"/>
  </SummaryInformation>
  <UserInterface
    createDialogWidth="700"
    modifyDialogWidth="700"
  >
    <Cluster>
      <RelCPCluster
        defaultToBlank="true"
        fullCreateParticipant="false"
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="true"
        modifyOption="no"
        showParticipantTypeFilter="true"
        useSingleName="false"
      >
        <StandardField source="person"/>
        <ClusterName id="Participant"/>
        <LabelName id="Participant.Description.ID3"/>
      </RelCPCluster>
    </Cluster>
    <Cluster>
      <StandardCluster
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="true"
        numberOfColumns="2"
      >
        <Title id="Cluster.Title.Birth"/>
        <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="birthFirstName"
            useDefault="false"
          >
            <Label id="Field.Label.BirthFirstName"/>
          </StandardField>
        </StandardClusterField>
        <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
        <!--START  TASK-23533 Implement new Changes for DOB/DOD evidence, Non editable fields -Last Name at Birth , Parent's Last Name at Birth and DOB -->
        <StandardClusterField>
          <StandardField
            modifiable="false"
            source="birthLastName"
            useDefault="false"
          >
            <Label id="Field.Label.BirthLastName"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField
            modifiable="false"
            source="mothersBirthLastName"
            useDefault="false"
          >
            <Label id="Field.Label.MothersBirthLastName"/>
          </StandardField>
        </StandardClusterField>
        
        <StandardClusterField>
          <StandardField
            modifiable="false"
            source="dateOfBirth"
            useDefault="false"
          >
            <Label id="Field.Label.DateOfBirth"/>
          </StandardField>
        </StandardClusterField>
        <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
        <StandardClusterField>
          <StandardField modifiable="true"
            source="countryOfBirth" useDefault="false"
            useBlank="true">
            <Label id="Field.Label.CountryOfBirth" />
          </StandardField>
        </StandardClusterField>
        <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      </StandardCluster>
    </Cluster>
     <!-- END TASK-23533 -->
    <Cluster>
      <StandardCluster
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="true"
        numberOfColumns="2"
      >
        <Title id="Cluster.Title.Death"/>
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="dateOfDeath"
            useDefault="false"
          >
            <Label id="Field.Label.DateOfDeath"/>
          </StandardField>
        </StandardClusterField>
        <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="dateNotifiedOfDeath"
            useDefault="false"
          >
            <Label id="Field.Label.DateNotifiedOfDeath"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true"
            source="countryOfDeath" useDefault="false"
            useBlank="true">
            <Label id="Field.Label.CountryOfDeath" />
          </StandardField>
        </StandardClusterField>
        <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
      </StandardCluster>
     
      </Cluster>
    <!-- BEGIN: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
    <!-- Begin, Foreign Country Info Cluster -->
    <Cluster>
      <StandardCluster isOnCreatePage="true"
        isOnModifyPage="true" isOnViewPage="false" numberOfColumns="2">
        <Title id="Cluster.Title.ReceiptDetails" />
        <StandardClusterField>
          <StandardField modifiable="true"
            source="bdmReceivedFrom" useDefault="true" useBlank="false">
            <Label id="Field.Label.ReceivedFrom" />
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true"
            source="bdmReceivedFromCountry" useDefault="false"
            useBlank="true">
            <Label id="Field.Label.ReceivedFromCountry" />
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true"
            source="bdmModeOfReceipt" useDefault="false" useBlank="true">
            <Label id="Field.Label.ModeOfReceipt" />
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="false"
        isOnModifyPage="false" isOnViewPage="true" numberOfColumns="2">
        <Title id="Cluster.Title.ReceiptDetailsView" />
        <StandardClusterField>
          <StandardField modifiable="true"
            source="bdmReceivedFrom" useDefault="true" useBlank="false">
            <Label id="Field.Label.ReceivedFromView" />
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true"
            source="bdmReceivedFromCountry" useDefault="false"
            useBlank="true">
            <Label id="Field.Label.ReceivedFromCountryView" />
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <SkipField />
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true"
            source="bdmModeOfReceipt" useDefault="false" useBlank="true">
            <Label id="Field.Label.ModeOfReceiptView" />
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <!-- End, Foreign Country Info Cluster -->
    <!-- END: Task 57387 DEV: Implement 'Birth and Death Details' evidence -->
     <!-- BEGIN: Attestation -->
   <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Title id="Cluster.Title.Attestation"/>
        <Description id="Cluster.Field.Attestation.Text1"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
	<Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text2"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text3"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text4"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text5"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
     <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text6"/>
         <StandardClusterField>
          <StandardField modifiable="true" source="bdmAgreeAttestation" useBlank="true">
            <Label id="Field.Label.bdmAttestationAgree"/>
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
     <!-- END: Attestation -->
       <!-- BEGIN: Attestee Cluster-->
     <Cluster>
      <RelCPCluster defaultToBlank="false" enableMultiMemberUpdates="false" fullCreateParticipant="false" isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" modifyOption="multiple" showParticipantTypeFilter="true" useSingleName="false">
        <StandardField source="attesteeCaseParticipant" modifiable="false"/>
        <ClusterName id="Related.Participant.Cluster.ID4"/>
        <LabelName id="Name.Label.ID4"/>
        <RelCpPfx id="Participant.Description.ID4"/>
        <FirstName id="First.Name.Label.ID4"/>
        <SecondName id="Second.Name.Label.ID4"/>
      </RelCPCluster>
    </Cluster>
    <Cluster>
		<StandardCluster isOnCreatePage="false"
			isOnModifyPage="false" isOnViewPage="true" labelWidth="40"
			numberOfColumns="1">
			<StandardClusterField>
				<SkipField />
			</StandardClusterField>
			<StandardClusterField>
				<StandardField modifiable="false"
					source="attestationDate" useDefault="true">
					<Label id="Field.Label.AttestationDate" />
				</StandardField>
			</StandardClusterField>
		</StandardCluster>
	</Cluster>
    <!-- END: Attestee Cluster-->
    <Cluster>
      <CommentsCluster
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="true"
      >
        <Title id="Cluster.Title.Comments"/>
        <StandardField source="comments"/>
      </CommentsCluster>
    </Cluster>
  </UserInterface>
</EvidenceTypeVersion>
