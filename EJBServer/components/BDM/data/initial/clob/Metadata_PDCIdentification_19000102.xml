<?xml version="1.0" encoding="UTF-8"?>
<EvidenceTypeVersion
  businessEndDate="toDate"
  businessStartDate="fromDate"
  correctionOnly="true"
  modifiable="true"
  relatedParticipant="participant"
  ruleSetNameForCalculatedAttributes="BDMPDCIdentificationCalculatedAttributesRuleSet"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../../../../../DynamicEvidenceMetadata.xsd"
>
  <Model>
    <Attributes>
      <Attribute>
        <RelatedCPAttribute
          cpRoleType="MEM"
          name="participant"
          participantType="Person"
        >
          <CPSearchType code="PRI"/>
          <CPSearchType code="MEM"/>
        </RelatedCPAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute
          mandatory="true"
          name="alternateID"
        >
          <DomainType dataType="String">
            <StringOptions maxSize="255"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute
          mandatory="true"
          name="altIDType"
        >
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="ConcernRoleAlternateID"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute
          name="country"
        >
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMSourceCountry"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute
          mandatory="true"
          name="fromDate"
        >
          <DomainType dataType="Date">
            <DateOptions currentDate="LessThanOrEqualTo"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="toDate">
          <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <CommentsAttribute name="comments"/>
      </Attribute>
      <Attribute>
        <DataAttribute
          defaultValue="false"
          name="preferredInd"
        >
          <DomainType dataType="Boolean"/>
        </DataAttribute>
      </Attribute>
      <!-- BEGIN 57386 DEV: Implement Identification Evidence Changes -->
		<Attribute>
	 		<DataAttribute name="bdmReceivedFrom" defaultValue="RF3">
				<DomainType dataType="Codetable">
					<CodetableOptions
						codetableName="BDMReceivedFrom" />
				</DomainType>
			</DataAttribute>
		</Attribute>
		<Attribute>
	 		<DataAttribute name="bdmReceivedFromCountry">
				<DomainType dataType="Codetable">
					<CodetableOptions
						codetableName="BDMSourceCountry" />
				</DomainType>
			</DataAttribute>
		</Attribute>
		<Attribute>
	 		<DataAttribute name="bdmModeOfReceipt">
				<DomainType dataType="Codetable">
					<CodetableOptions
						codetableName="BDMModeOfReceipt" />
				</DomainType>
			</DataAttribute>
		</Attribute>
        <Attribute>
            <CalculatedAttribute name="maskedAlternateID">
                <DomainType dataType="String" />
            </CalculatedAttribute>
        </Attribute>
      <!-- END 57386 DEV: Implement Identification Evidence Changes -->
    </Attributes>
    <Relationships/>
  </Model>
  <Validations>
    <PatternValidations>
      <Validator>
        <ComparisonValidator
          operator="LessThanOrEqualTo"
          shallow="false"
          source="fromDate"
          target="toDate"
          useClause="false"
          useLiteral="false"
        />
      </Validator>
      <Validator>
        <DuplicateValidator>
          <DuplicateAttributes conjunction="AND">
            <DuplicateAttribute name="participant"/>
            <DuplicateAttribute name="alternateID"/>
            <DuplicateAttribute name="altIDType"/>
            <DuplicateAttribute name="toDate"/>
            <ValidationMessageInformation>
              <ValidationMessageMapping>
                <ValidationMessage>
                  <ValidationMessageResource id="ERR_IDENTIFICATION_XFV_DUPLICATE"/>
                </ValidationMessage>
              </ValidationMessageMapping>
            </ValidationMessageInformation>
          </DuplicateAttributes>
        </DuplicateValidator>
      </Validator>
      <Validator>
        <DependentAttributeValidator dependency="MustEnter" source="altIDType" sourceLiteral="Foreign Identifier" target="country" useSourceLiteral="true" unidirectional="true">
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_MUST_ENTER_COUNTRY_IF_ALT_ID_IS_FOREIGN_IDENTIER"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
      <Validator>
        <DependentAttributeValidator dependency="MustEnter" source="country" target="altIDType" targetLiteral="Foreign Identifier" useTargetLiteral="true" unidirectional="true">
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_ALT_ID_MUST_BE_FOREIGN_IDENTIFIER_IF_COUNTRY_ENTERED"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
      <!-- BR013 107625 User selects the ‘Type’ as a Foreign Identifier’ and does not choose a value from the ‘Received From’  -->
      <Validator>
        <DependentAttributeValidator dependency="MustEnter" source="altIDType" sourceLiteral="Foreign Identifier" target="bdmReceivedFrom" useSourceLiteral="true" unidirectional="true">
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_SELECT_RECEIVED_FROM_IF_FOREIGN_IDENTIFIER_IS_ENTERED"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
       <!-- BR013 107625 User selects the ‘Type’ as a Foreign Identifier’ and does not choose a value from the ‘Received From’  -->
      
    </PatternValidations>
    <CustomRulesValidation ruleSetName="PDCIdentificationValidationRuleSet"/>
  </Validations>
  <SummaryInformation>
  	<!-- BEGIN 63026 DEV: Implement SIN Masking Via Summary Rule Set -->
	<SummaryRuleset ruleSetName="BDMPDCIdentificationSummaryRuleSet" />
	<!-- END 63026 DEV: Implement SIN Masking Via Summary Rule Set -->
  </SummaryInformation>
  <UserInterface createDialogWidth="700">
    <Cluster>
      <RelCPCluster
        defaultToBlank="true"
        fullCreateParticipant="false"
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="true"
        modifyOption="no"
        showParticipantTypeFilter="true"
        useSingleName="false"
      >
        <StandardField source="participant"/>
        <ClusterName id="ParticipantDetails"/>
        <LabelName id="Participant.Description.ID2"/>
      </RelCPCluster>
    </Cluster>
    <Cluster>
      <StandardCluster
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="false"
        numberOfColumns="1"
      >
        <Title id="Cluster.Title.IdentificationDetails"/>
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="alternateID"
            useDefault="true"
          >
            <Label id="Field.Label.IDReference"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField
            modifiable="false"
            source="altIDType"
            useDefault="false"
            useBlank="true"
          >
            <Label id="Field.Label.Type"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="country"
            useDefault="false"
            useBlank="true"
          >
            <Label id="Field.Label.Country"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="fromDate"
            useDefault="true"
          >
            <Label id="Field.Label.From"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="toDate"
            useDefault="false"
          >
            <Label id="Field.Label.To"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField
            modifiable="true"
            source="preferredInd"
            useDefault="true"
          >
            <Label id="Field.Label.PreferredInd"/>
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
      <Cluster>
          <StandardCluster
                  isOnCreatePage="false"
                  isOnModifyPage="false"
                  isOnViewPage="true"
                  numberOfColumns="1"
          >
              <Title id="Cluster.Title.IdentificationDetails"/>
              <StandardClusterField>
                  <StandardField
                          modifiable="true"
                          source="maskedAlternateID"
                          useDefault="true"
                  >
                      <Label id="Field.Label.IDReference"/>
                  </StandardField>
              </StandardClusterField>
              <StandardClusterField>
                  <StandardField
                          modifiable="false"
                          source="altIDType"
                          useDefault="false"
                          useBlank="true"
                  >
                      <Label id="Field.Label.Type"/>
                  </StandardField>
              </StandardClusterField>
              <StandardClusterField>
                  <StandardField
                          modifiable="true"
                          source="country"
                          useDefault="false"
                          useBlank="true"
                  >
                      <Label id="Field.Label.Country"/>
                  </StandardField>
              </StandardClusterField>
              <StandardClusterField>
                  <StandardField
                          modifiable="true"
                          source="fromDate"
                          useDefault="true"
                  >
                      <Label id="Field.Label.From"/>
                  </StandardField>
              </StandardClusterField>
              <StandardClusterField>
                  <StandardField
                          modifiable="true"
                          source="toDate"
                          useDefault="false"
                  >
                      <Label id="Field.Label.To"/>
                  </StandardField>
              </StandardClusterField>
              <StandardClusterField>
                  <StandardField
                          modifiable="true"
                          source="preferredInd"
                          useDefault="true"
                  >
                      <Label id="Field.Label.PreferredInd"/>
                  </StandardField>
              </StandardClusterField>
          </StandardCluster>
      </Cluster>
    <!-- BEGIN 57386 DEV: Implement Identification Evidence Changes -->
		<Cluster>
			<StandardCluster isOnCreatePage="true"
				isOnModifyPage="true" isOnViewPage="true" numberOfColumns="2">
				<Title id="Cluster.Title.ReceiptDetails" />
				<StandardClusterField>
					<StandardField modifiable="true" source="bdmReceivedFrom"
						useDefault="true" useBlank="false">
						<Label id="Field.Label.ReceivedFrom" />
					</StandardField>
				</StandardClusterField>
				<StandardClusterField>
					<StandardField modifiable="true" source="bdmReceivedFromCountry"
						useDefault="false" useBlank="true">
						<Label id="Field.Label.ReceivedFromCountry" />
					</StandardField>
				</StandardClusterField>
				<StandardClusterField>
					<StandardField modifiable="true" source="bdmModeOfReceipt"
						useDefault="false" useBlank="true">
						<Label id="Field.Label.ModeOfReceipt" />
					</StandardField>
				</StandardClusterField>
			</StandardCluster>
		</Cluster>
    <!-- END 57386 DEV: Implement Identification Evidence Changes -->
	
	 <!-- BEGIN: Attestation 114306-->
   <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Title id="Cluster.Title.Attestation"/>
        <Description id="Cluster.Field.Attestation.Text1"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
	<Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text2"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text3"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text4"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text5"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
	
	<Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" labelWidth="40" numberOfColumns="2">
        <Description id="Cluster.Field.Attestation.Text6"/>
        <StandardClusterField>
          <SkipField/>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
     <!-- END: Attestation 114306-->
	 
    <Cluster>
      <CommentsCluster
        isOnCreatePage="true"
        isOnModifyPage="true"
        isOnViewPage="true"
      >
        <Title id="Cluster.Title.Comments"/>
        <StandardField source="comments"/>
      </CommentsCluster>
    </Cluster>
  </UserInterface>
</EvidenceTypeVersion>
