<EvidenceTypeVersion businessEndDate="toDate" businessStartDate="fromDate" correctionOnly="true" modifiable="true" relatedParticipant="participant">
  <Model>
    <Attributes>
      <Attribute>
        <RelatedCPAttribute cpRoleType="MEM" name="participant" participantType="Person">
          <CPSearchType code="PRI"/>
          <CPSearchType code="MEM"/>
        </RelatedCPAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute mandatory="true" name="phoneCountryCode">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMPhoneCountry"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="phoneAreaCode">
          <DomainType dataType="String">
            <StringOptions maxSize="8" trimLeadingSpaces="true" trimTrailingSpaces="true"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute mandatory="true" name="phoneNumber">
          <DomainType dataType="String">
            <StringOptions maxSize="20" trimLeadingSpaces="true" trimTrailingSpaces="true"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="phoneExtension">
          <DomainType dataType="String">
            <StringOptions maxSize="15" trimLeadingSpaces="true" trimTrailingSpaces="true"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute mandatory="true" name="fromDate">
          <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute name="toDate">
          <DomainType dataType="Date"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute mandatory="true" name="phoneType">
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="PhoneType"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <CommentsAttribute name="comments"/>
      </Attribute>
      <Attribute>
        <DataAttribute defaultValue="false" name="preferredInd">
          <DomainType dataType="Boolean"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute defaultValue="false" name="useForAlertsInd">
          <DomainType dataType="Boolean"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute defaultValue="false" name="morningInd">
          <DomainType dataType="Boolean"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute defaultValue="false" name="afternoonInd">
          <DomainType dataType="Boolean"/>
        </DataAttribute>
      </Attribute>
      <Attribute>
        <DataAttribute defaultValue="false" name="eveningInd">
          <DomainType dataType="Boolean"/>
        </DataAttribute>
      </Attribute>
      <!-- ADO-21002:Start Added alert Frequency -->
      <Attribute>
        <DataAttribute
          name="alertFrequency"
          volatile="false"
        >
          <DomainType dataType="Codetable">
            <CodetableOptions codetableName="BDMAlertOccur"/>
          </DomainType>
        </DataAttribute>
      </Attribute>
       <!-- ADO-21002:End Added alert Frequency -->
      <!-- BEGIN Task 58892 DEV: Implement 'Add Source of Client Phone Number' -->
		<Attribute>
	 		<DataAttribute name="bdmReceivedFrom" defaultValue="RF3">
				<DomainType dataType="Codetable">
					<CodetableOptions
						codetableName="BDMReceivedFrom" />
				</DomainType>
			</DataAttribute>
		</Attribute>
		<Attribute>
	 		<DataAttribute name="bdmReceivedFromCountry">
				<DomainType dataType="Codetable">
					<CodetableOptions
						codetableName="BDMSourceCountry" />
				</DomainType>
			</DataAttribute>
		</Attribute>
		<Attribute>
	 		<DataAttribute name="bdmModeOfReceipt">
				<DomainType dataType="Codetable">
					<CodetableOptions
						codetableName="BDMModeOfReceipt" />
				</DomainType>
			</DataAttribute>
		</Attribute>
      <!-- END Task 58892 DEV: Implement 'Add Source of Client Phone Number' -->
    </Attributes>
    <Relationships/>
  </Model>
  <Validations>
    <PatternValidations>
      <Validator>
        <ComparisonValidator operator="LessThanOrEqualTo" shallow="false" source="fromDate" target="toDate" useClause="false" useLiteral="false"/>
      </Validator>
      <Validator>
        <DuplicateValidator>
          <DuplicateAttributes conjunction="AND">
            <DuplicateAttribute name="participant"/>
            <DuplicateAttribute name="phoneAreaCode"/>
            <DuplicateAttribute name="phoneNumber"/>
            <DuplicateAttribute name="phoneExtension"/>
            <DuplicateAttribute name="phoneType"/>
            <ValidationMessageInformation>
              <ValidationMessageMapping>
                <ValidationMessage>
                  <parameter name="participant"/>
                  <ValidationMessageResource id="ERR_PHONENUMBER_XFV_DUPLICATE"/>
                </ValidationMessage>
              </ValidationMessageMapping>
            </ValidationMessageInformation>
          </DuplicateAttributes>
        </DuplicateValidator>
      </Validator>
      
      <!-- START TASK 5340 : JP -->
      <!-- Personal mobile phone number or Business mobile phone number cannot have extension -->
    
      <Validator>
        <DependentAttributeValidator dependency="MustNotEnter" source="phoneType" sourceLiteral="Personal Mobile" target="phoneExtension" unidirectional="true" useSourceLiteral="true">
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_MOBILE_CANNOT_HAVE_EXT"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
      
        <Validator>
        <DependentAttributeValidator dependency="MustNotEnter" source="phoneType" sourceLiteral="Business Mobile" target="phoneExtension" unidirectional="true" useSourceLiteral="true">
          <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_MOBILE_CANNOT_HAVE_EXT"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
    
     
      <!--All countries which have a country phone code of + 1 , then the area code must be entered for the phone number validation  -->
      <Validator>
        <DependentAttributeValidator dependency="MustEnter" source="phoneCountryCode" sourceLiteral="+1 Canada" target="phoneAreaCode" unidirectional="true" useSourceLiteral="true">
        <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_MUST_ENTER_3DIGIT_AREACODE"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
       <Validator>
        <DependentAttributeValidator dependency="MustEnter" source="phoneCountryCode" sourceLiteral="+1 United States" target="phoneAreaCode" unidirectional="true" useSourceLiteral="true">
        <ValidationMessageInformation>
            <ValidationMessageMapping>
              <ValidationMessage>
                <ValidationMessageResource id="ERR_MUST_ENTER_3DIGIT_AREACODE"/>
              </ValidationMessage>
            </ValidationMessageMapping>
          </ValidationMessageInformation>
        </DependentAttributeValidator>
      </Validator>
      
      
         <!-- END TASK 5340 : JP -->
    </PatternValidations>
    <CustomRulesValidation ruleSetName="PDCPhoneNumberValidationRuleSet"/>
  </Validations>
  <SummaryInformation>
    <SummaryRuleset ruleSetName="PDCPhoneNumberSummaryRuleSet"/>
  </SummaryInformation>
  <UserInterface createDialogWidth="700">
    <Cluster>
      <RelCPCluster defaultToBlank="false" enableMultiMemberUpdates="true" fullCreateParticipant="false" isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true" modifyOption="no" showParticipantTypeFilter="true" useSingleName="false">
        <StandardField source="participant"/>
        <ClusterName id="ParticipantDetails"/>
        <LabelName id="Participant.Description.ID3"/>
      </RelCPCluster>
    </Cluster>
    <Cluster>
      <StandardCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="false" numberOfColumns="1">
        <Title id="Cluster.Title.PhoneNumberDetails"/>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneCountryCode" useDefault="true">
            <Label id="Field.Label.PhoneCountryCode"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneAreaCode" useDefault="true">
            <Label id="Field.Label.PhoneAreaCode"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneNumber" useDefault="true">
            <Label id="Field.Label.PhoneNumber"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneExtension" useDefault="true">
            <Label id="Field.Label.phoneExtension"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneType" useDefault="true">
            <Label id="Field.Label.PhoneType"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="fromDate" useDefault="false">
            <Label id="Field.Label.FromDate"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="toDate" useDefault="false">
            <Label id="Field.Label.ToDate"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="preferredInd" useDefault="true">
            <Label id="Field.Label.PreferredInd"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="useForAlertsInd" useDefault="true">
            <Label id="Field.Label.useForAlertsInd"/>
          </StandardField>          
        </StandardClusterField>
        <!-- ADO-21002 Added alert Frequency  -->
         <StandardClusterField>
          <StandardField modifiable="true" source="alertFrequency" useBlank="true" useDefault="false">
            <Label id="Field.Label.alertFrequency"/>
          </StandardField>
        </StandardClusterField>
        <!-- ADO-21002 added alert frequency -->
        <StandardClusterField>
          <LabelField isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true">
            <Label id="Utility.Label.Field.BestTimeToContact"/>
          </LabelField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="morningInd" useDefault="true">
            <Label id="Field.Label.morningInd"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="afternoonInd" useDefault="true">
            <Label id="Field.Label.afternoonInd"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="eveningInd" useDefault="true">
            <Label id="Field.Label.eveningInd"/>
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
    <!-- BEGIN Task 58892 DEV: Implement 'Add Source of Client Phone Number' -->
    <Cluster>
      <StandardCluster isOnCreatePage="false" isOnModifyPage="false" isOnViewPage="true" numberOfColumns="2">
        <Title id="Cluster.Title.PhoneNumberDetails"/>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneCountryCode" useDefault="true">
            <Label id="Field.Label.PhoneCountryCode"/>
          </StandardField>
        </StandardClusterField>        
        <StandardClusterField>
          <StandardField modifiable="true" source="useForAlertsInd" useDefault="true">
            <Label id="Field.Label.useForAlertsInd"/>
          </StandardField>          
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneAreaCode" useDefault="true">
            <Label id="Field.Label.PhoneAreaCode"/>
          </StandardField>
        </StandardClusterField>
        <!-- ADO-21002 Added alert Frequency  -->
         <StandardClusterField>
          <StandardField modifiable="true" source="alertFrequency" useBlank="true" useDefault="false">
            <Label id="Field.Label.alertFrequency"/>
          </StandardField>
        </StandardClusterField>
        <!-- ADO-21002 added alert frequency -->
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneNumber" useDefault="true">
            <Label id="Field.Label.PhoneNumber"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <LabelField isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true">
            <Label id="Utility.Label.Field.BestTimeToContact"/>
          </LabelField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneExtension" useDefault="true">
            <Label id="Field.Label.phoneExtension"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="morningInd" useDefault="true">
            <Label id="Field.Label.morningInd"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="phoneType" useDefault="true">
            <Label id="Field.Label.PhoneType"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="afternoonInd" useDefault="true">
            <Label id="Field.Label.afternoonInd"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="fromDate" useDefault="false">
            <Label id="Field.Label.FromDate"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="eveningInd" useDefault="true">
            <Label id="Field.Label.eveningInd"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="toDate" useDefault="false">
            <Label id="Field.Label.ToDate"/>
          </StandardField>
        </StandardClusterField>
        <StandardClusterField>
          <StandardField modifiable="true" source="preferredInd" useDefault="true">
            <Label id="Field.Label.PreferredInd"/>
          </StandardField>
        </StandardClusterField>
      </StandardCluster>
    </Cluster>
		<Cluster>
			<StandardCluster isOnCreatePage="true"
				isOnModifyPage="true" isOnViewPage="true" numberOfColumns="2">
				<Title id="Cluster.Title.ReceiptDetails" />
				<StandardClusterField>
					<StandardField modifiable="true" source="bdmReceivedFrom"
						useDefault="true" useBlank="false">
						<Label id="Field.Label.ReceivedFrom" />
					</StandardField>
				</StandardClusterField>
				<StandardClusterField>
					<StandardField modifiable="true" source="bdmReceivedFromCountry"
						useDefault="false" useBlank="true">
						<Label id="Field.Label.ReceivedFromCountry" />
					</StandardField>
				</StandardClusterField>
				<StandardClusterField>
					<SkipField />
				</StandardClusterField>
				<StandardClusterField>
					<StandardField modifiable="true" source="bdmModeOfReceipt"
						useDefault="false" useBlank="true">
						<Label id="Field.Label.ModeOfReceipt" />
					</StandardField>
				</StandardClusterField>
			</StandardCluster>
		</Cluster>
		<!-- END Task 58892 DEV: Implement 'Add Source of Client Phone Number' -->
    <Cluster>
      <CommentsCluster isOnCreatePage="true" isOnModifyPage="true" isOnViewPage="true">
        <Title id="Cluster.Title.Comments"/>
        <StandardField source="comments"/>
      </CommentsCluster>
    </Cluster>
  </UserInterface>
</EvidenceTypeVersion>