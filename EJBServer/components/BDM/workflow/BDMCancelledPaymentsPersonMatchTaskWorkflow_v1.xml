<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<workflow-process creationDate="20220209T001317" createdBy="admin" category="PC1" released="true" language-version="1.0" process-version="1" id="80012">
	<name>BDMCancelledPaymentsPersonMatchTaskWorkflow</name>
	<process-display-name>
		<localized-text>
			<locale language="en">BDM Cancelled Payments Person Match Task Workflow</locale>
			<locale language="fr">BDM Cancelled Payments Person Match Task Workflow (fr)</locale>
		</localized-text>
	</process-display-name>
	<enactment-mappings>
		<mapping>
			<source-attribute name="subject" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="subject" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="priority" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="priority" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="assignedTo" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="assignedTo" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="assigneeType" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="assigneeType" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="participantRoleID" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="participantRoleID" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="participantType" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="participantType" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="caseID" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="caseID" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="reserveToMeInd" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="reserveToMeInd" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="comments" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="comments" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="deadlineDateTime" struct-name="curam.core.sl.struct.TaskCreateDetails"/>
			<target-attribute name="deadlineDateTime" wdo-name="TaskCreateDetails"/>
		</mapping>
		<mapping>
			<source-attribute name="spsPmtRefNo" struct-name="curam.ca.gc.bdm.sl.financial.struct.BDMCancelledPaymentPersonDetails"/>
			<target-attribute name="spsPmtRefNo" wdo-name="BDMCancelledPaymentDetails"/>
		</mapping>
		<mapping>
      <source-attribute name="memberID" struct-name="curam.ca.gc.bdm.sl.financial.struct.BDMCancelledPaymentPersonDetails"/>
      <target-attribute name="memberID" wdo-name="BDMCancelledPaymentDetails"/>
    </mapping>
    <mapping>
      <source-attribute name="concernRoleName" struct-name="curam.ca.gc.bdm.sl.financial.struct.BDMCancelledPaymentPersonDetails"/>
      <target-attribute name="concernRoleName" wdo-name="BDMCancelledPaymentDetails"/>
    </mapping>
	</enactment-mappings>
	<wdos>
	  <wdo initialize-attributes="false" is-list-wdo="false">
	    <wdo-name>BDMCancelledPaymentDetails</wdo-name>
      <display-name>
        <localized-text>
          <locale language="fr">BDMCancelledPaymentDetails(fr)</locale>
          <locale language="en">BDMCancelledPaymentDetails</locale>
        </localized-text>
      </display-name>
      <attributes>
        <attribute>
          <attribute-name>spsPmtRefNo</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">SPS Payment Reference</locale>
              <locale language="fr">SPS Payment Reference (fr)</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>true</required-at-enactment>
          <process-output>false</process-output>
        </attribute>
        <attribute>
          <attribute-name>memberID</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">Person Reference ID</locale>
              <locale language="fr">Person Reference ID (fr)</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>true</required-at-enactment>
          <process-output>false</process-output>
        </attribute>
        <attribute>
          <attribute-name>concernRoleName</attribute-name>
          <display-name>
            <localized-text>
              <locale language="fr">Concern Role Name (fr)</locale>
              <locale language="en">Concern Role Name</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>true</required-at-enactment>
          <process-output>false</process-output>
        </attribute>
      </attributes>    
	  </wdo>
		<wdo initialize-attributes="false" is-list-wdo="false">
			<wdo-name>TaskCreateDetails</wdo-name>
			<display-name>
				<localized-text>
					<locale language="fr">Détails de la tâche Créer</locale>
					<locale language="en">TaskCreateDetails</locale>
				</localized-text>
			</display-name>
			<attributes>
				<attribute>
					<attribute-name>subject</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Sujet de la tâche</locale>
							<locale language="en">Task subject</locale>
						</localized-text>
					</display-name>
					<type>STRING</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>priority</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Priorité de la tâche</locale>
							<locale language="en">Task priority</locale>
						</localized-text>
					</display-name>
					<type>STRING</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>assignedTo</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Nom d'utilisateur</locale>
							<locale language="en">User name</locale>
						</localized-text>
					</display-name>
					<type>STRING</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>assigneeType</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Type de participant</locale>
							<locale language="en">Assignee type</locale>
						</localized-text>
					</display-name>
					<type>STRING</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>participantRoleID</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Participant</locale>
							<locale language="en">Participant</locale>
						</localized-text>
					</display-name>
					<type>INT64</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>participantType</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Type de participant</locale>
							<locale language="en">Participant type</locale>
						</localized-text>
					</display-name>
					<type>STRING</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>caseID</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Dossier</locale>
							<locale language="en">Case</locale>
						</localized-text>
					</display-name>
					<type>INT64</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>deadlineDateTime</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Date d'échéance</locale>
							<locale language="en">Deadline date</locale>
						</localized-text>
					</display-name>
					<type>DATETIME</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>reserveToMeInd</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Réservé à l'utilisateur</locale>
							<locale language="en">Reserve to user</locale>
						</localized-text>
					</display-name>
					<type>BOOLEAN</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
				<attribute>
					<attribute-name>comments</attribute-name>
					<display-name>
						<localized-text>
							<locale language="fr">Commentaires</locale>
							<locale language="en">Comments</locale>
						</localized-text>
					</display-name>
					<type>STRING</type>
					<required-at-enactment>true</required-at-enactment>
					<process-output>false</process-output>
				</attribute>
		  </attributes>
		</wdo>
	</wdos>
	<activities>
		<start-process-activity id="1">
			<name>
				<localized-text>
					<locale language="en">Start Process Activity</locale>
				</localized-text>
			</name>
			<description>
				<localized-text>
					<locale language="en">The start process activity</locale>
				</localized-text>
			</description>
			<split type="none">
				<transition-id idref="1"/>
			</split>
		</start-process-activity>
		<end-process-activity id="2">
			<name>
				<localized-text>
					<locale language="en">End Process Activity</locale>
				</localized-text>
			</name>
			<description>
				<localized-text>
					<locale language="en">The end process activity</locale>
				</localized-text>
			</description>
			<join type="none"/>
		</end-process-activity>
		<manual-activity category="AC1" id="3">
			<name>
				<localized-text>
					<locale language="en">Cancelled Payment Person Match Task</locale>
				</localized-text>
			</name>
			<join type="none"/>
			<split type="none">
				<transition-id idref="2"/>
			</split>
			<task>
				<message>
					<message-text>
						<localized-text>
							<locale language="en">&lt;VSG01&gt; Payment cancelled not matching for PRN %1s for %2s %3s</locale>
							<locale language="fr">&lt;VSG01&gt; Payment cancelled not matching for PRN %1s for %2s %3s (fr)</locale>
						</localized-text>
					</message-text>
					<message-parameters>
						<wdo-attribute name="spsPmtRefNo" wdo-name="BDMCancelledPaymentDetails"/>
						<wdo-attribute name="concernRoleName" wdo-name="BDMCancelledPaymentDetails"/>
						<wdo-attribute name="memberID" wdo-name="BDMCancelledPaymentDetails"/>
					</message-parameters>
				</message>
				<actions>					
					<action open-modal="false" principal-action="false" page-id="Person_listFinancial1">
						<message>
							<message-text>
								<localized-text>
									<locale language="en">View Person Record</locale>
									<locale language="fr">View Person Record (fr)</locale>
								</localized-text>
							</message-text>
						</message>
						<link-parameter name="concernRoleID">
							<wdo-attribute name="participantRoleID" wdo-name="TaskCreateDetails"/>
						</link-parameter>
					</action>
				</actions>
				<task-priority>
					<priority>TP2</priority>
				</task-priority>
				<allow-deadline-override>true</allow-deadline-override>
				<allow-task-forwarding>true</allow-task-forwarding>
			</task>
			<allocation-strategy identifier="BDMCancelledPaymentsWorkQueue" type="target"/>
			<event-wait wait-on-all-events="false">
				<events>
					<event event-type="CLOSED" event-class="TASK" identifier="1">
						<event-match-attribute name="taskID" wdo-name="Context_Task"/>
					</event>
				</events>
				<deadline complete-activity="false">
					<duration>
						<seconds>172800</seconds>
					</duration>
					<deadline-handler method-name="defaultDeadlineHandler" interface-name="curam.core.sl.intf.WorkflowDeadlineFunction">
						<formal-parameters>
							<formal-parameter index="0">
								<struct type="curam.core.sl.struct.TaskCreateDetails">
									<field name="subject">
										<base-type type="STRING">
											<wdo-attribute name="subject" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="priority">
										<base-type type="STRING">
											<wdo-attribute name="priority" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="assignedTo">
										<base-type type="STRING">
											<wdo-attribute name="assignedTo" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="assigneeType">
										<base-type type="STRING">
											<wdo-attribute name="assigneeType" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="participantRoleID">
										<base-type type="INT64">
											<wdo-attribute name="participantRoleID" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="participantType">
										<base-type type="STRING">
											<wdo-attribute name="participantType" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="caseID">
										<base-type type="INT64">
											<wdo-attribute name="caseID" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="reserveToMeInd">
										<base-type type="BOOLEAN">
											<wdo-attribute name="reserveToMeInd" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="comments">
										<base-type type="STRING">
											<wdo-attribute name="comments" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
									<field name="deadlineDateTime">
										<base-type type="DATETIME">
											<wdo-attribute name="deadlineDateTime" wdo-name="TaskCreateDetails"/>
										</base-type>
									</field>
								</struct>
							</formal-parameter>
						</formal-parameters>
					</deadline-handler>
					<deadline-output-mappings/>
				</deadline>
			</event-wait>
			<biz-object-associations>
				<biz-object-association biz-object-type="BOT2">
					<wdo-attribute name="participantRoleID" wdo-name="TaskCreateDetails"/>
				</biz-object-association>
			</biz-object-associations>
		</manual-activity>
	</activities>
	<transitions>
		<transition to-activity-idref="3" from-activity-idref="1" id="1"/>
		<transition to-activity-idref="2" from-activity-idref="3" id="2"/>
	</transitions>
</workflow-process>