<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM
 
  Copyright IBM Corporation 2012. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure 
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<workflow-process
  category="PC5"
  createdBy="unauthenticated"
  creationDate="20050831T222829"
  id="28417"
  language-version="1.0"
  process-version="1"
  released="true"
>
  <name>APPROVEPLANNEDITEM</name>
  <!--BEGIN, CR00361282, CL -->
  <process-display-name>
    <localized-text>
      <locale language="en">Approve Planned Item</locale>
    </localized-text>
  </process-display-name>
  <!--END, CR00361282 -->
  <enactment-mappings>
    <mapping>
      <source-attribute
        name="plannedItemID"
        struct-name="curam.serviceplans.sl.entity.struct.PlannedItemIDKey"
      />
      <target-attribute
        name="plannedItemID"
        wdo-name="SPProductDeliveryPI"
      />
    </mapping>
  </enactment-mappings>
  <wdos>
    <wdo>
      <wdo-name>SPProductDeliveryPI</wdo-name>
      <display-name>
        <localized-text>
          <locale language="en">SPProductDeliveryPI</locale>
        </localized-text>
      </display-name>
      <attributes>
        <attribute>
          <attribute-name>plannedItemID</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">plannedItemID</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>true</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>planItemID</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">planItemID</locale>
            </localized-text>
          </display-name>
          <type>INT64</type>
          <required-at-enactment>false</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>typeCode</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">typeCode</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>false</required-at-enactment>
        </attribute>
        <attribute>
          <attribute-name>BenefitSampleType</attribute-name>
          <display-name>
            <localized-text>
              <locale language="en">BenefitSampleType</locale>
            </localized-text>
          </display-name>
          <type>STRING</type>
          <required-at-enactment>false</required-at-enactment>
          <constant-value>AT4</constant-value>
        </attribute>
      </attributes>
    </wdo>
  </wdos>
  <activities>
    <start-process-activity id="29710">
      <name>
        <localized-text>
          <locale language="en">StartProcessActivity</locale>
        </localized-text>
      </name>
      <description>
        <localized-text>
          <locale language="en">The start process activity</locale>
        </localized-text>
      </description>
      <split type="none">
        <transition-id idref="30266"/>
      </split>
    </start-process-activity>
    <end-process-activity id="29711">
      <name>
        <localized-text>
          <locale language="en">EndProcessActivity</locale>
        </localized-text>
      </name>
      <description>
        <localized-text>
          <locale language="en">The end process activity</locale>
        </localized-text>
      </description>
      <join type="xor"/>
    </end-process-activity>
    <automatic-activity id="29712">
      <name>
        <localized-text>
          <locale language="en">CreatePlanItemProductDeliveryCase</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="30289"/>
      </split>
      <bpo-mapping
        interface-name="curam.sample.facade.intf.SampleBenefit"
        method-name="createAssociatedProductDeliveryForPlannedItem"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.sample.facade.struct.SampleBenefitPlanItemKey">
              <field name="key">
                <struct type="curam.serviceplans.sl.struct.PlannedItemIDKey">
                  <field name="plannedItemIDKey">
                    <struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey">
                      <field name="plannedItemID">
                        <base-type type="INT64">
                          <wdo-attribute
                            name="plannedItemID"
                            wdo-name="SPProductDeliveryPI"
                          />
                        </base-type>
                      </field>
                    </struct>
                  </field>
                </struct>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
      </bpo-mapping>
    </automatic-activity>
    <automatic-activity id="30193">
      <name>
        <localized-text>
          <locale language="en">ReadPlannedItem</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="none">
        <transition-id idref="30286"/>
      </split>
      <bpo-mapping
        interface-name="curam.serviceplans.sl.intf.PlannedItem"
        method-name="readDetailsForProductDeliveryCreation"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.serviceplans.sl.struct.PlannedItemIDKey">
              <field name="plannedItemIDKey">
                <struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey">
                  <field name="plannedItemID">
                    <base-type type="INT64">
                      <wdo-attribute
                        name="plannedItemID"
                        wdo-name="SPProductDeliveryPI"
                      />
                    </base-type>
                  </field>
                </struct>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
        <return>
          <struct>
            <field name="planItemID">
              <base-type>
                <wdo-attribute
                  name="planItemID"
                  wdo-name="SPProductDeliveryPI"
                />
              </base-type>
            </field>
          </struct>
        </return>
      </bpo-mapping>
    </automatic-activity>
    <automatic-activity id="30194">
      <name>
        <localized-text>
          <locale language="en">ReadPlanItem</locale>
        </localized-text>
      </name>
      <join type="none"/>
      <split type="xor">
        <transition-id idref="30287"/>
        <transition-id idref="30288"/>
      </split>
      <bpo-mapping
        interface-name="curam.serviceplans.sl.intf.PlanItem"
        method-name="read"
      >
        <formal-parameters>
          <formal-parameter index="0">
            <struct type="curam.serviceplans.sl.struct.PlanItemKey">
              <field name="key">
                <struct type="curam.serviceplans.sl.entity.struct.PlanItemKey">
                  <field name="planItemID">
                    <base-type type="INT64">
                      <wdo-attribute
                        name="planItemID"
                        wdo-name="SPProductDeliveryPI"
                      />
                    </base-type>
                  </field>
                </struct>
              </field>
            </struct>
          </formal-parameter>
        </formal-parameters>
        <return>
          <struct>
            <field name="dtls">
              <struct>
                <field name="typeCode">
                  <base-type>
                    <wdo-attribute
                      name="typeCode"
                      wdo-name="SPProductDeliveryPI"
                    />
                  </base-type>
                </field>
              </struct>
            </field>
          </struct>
        </return>
      </bpo-mapping>
    </automatic-activity>
  </activities>
  <transitions>
    <transition
      from-activity-idref="29710"
      id="30266"
      to-activity-idref="30193"
    />
    <transition
      from-activity-idref="30193"
      id="30286"
      to-activity-idref="30194"
    />
    <transition
      from-activity-idref="30194"
      id="30287"
      to-activity-idref="29712"
    >
      <condition>
        <expression
          conjunction="and"
          data-item-lhs="SPProductDeliveryPI.typeCode"
          data-item-rhs="SPProductDeliveryPI.BenefitSampleType"
          id="29043"
          operation="=="
        />
      </condition>
    </transition>
    <transition
      from-activity-idref="30194"
      id="30288"
      to-activity-idref="29711"
    />
    <transition
      from-activity-idref="29712"
      id="30289"
      to-activity-idref="29711"
    />
  </transitions>
</workflow-process>