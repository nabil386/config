<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM

  Copyright IBM Corporation 2012. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<!--
  This is the ant build file for the import of UIM files to the database.
-->
<project name="app_importuim" default="importuim">

  <!--  ***************************  -->
  <!--  ***  Import Properties  ***  -->
  <!--  ***************************  -->
  <import file="./app_properties.xml" />

  <!--  **************************  -->
  <!--  ***  Import Utilities  ***  -->
  <!--  **************************  -->
  <import file="./app_utilities.xml" />

  <!--  ******************************  -->
  <!--  ***  Import Configuration  ***  -->
  <!--  ******************************  -->
  <target name="importuim"
          description="Inserts UIM from specified directory into database.">

    <antcall target="dispmsg" inheritAll="false">
      <param name="prm.msg" value="Importing UIMs from ${uim.dir} to the Application Resource Store."/>
    </antcall>

    <property name="uim.dir" value=""/>

    <!-- Call app_batchlauncher.xml to launch the Batch Launcher -->
    <ant
      antfile="${dir.sde.bin}/app_batchlauncher.xml"
      target="main"
      inheritall="false">
      <property name="batch.program" value="curam.util.internal.tab.intf.ImportDynamicUim.importDuim"/>
      <property name="batch.parameters" value="inputDirectory=${uim.dir},validateUim=false"/>
      <property name="curam.disable.dynamic.properties" value="true"/>
      <property name="disable.database.callback" value="${disable.database.callback.flag}"/>
      <property name="force.disable.in.standalone" value="${force.disable.in.standalone.flag}"/>
    </ant>
    
    <!-- TODO: Add support for validations and deprecation warnings on Dynamic UIM -->

  </target>

</project>
