<?xml version="1.0" encoding="UTF-8"?> <jsp:root xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:curam="http://www.curamsoftware.com/curam" xmlns:cing="http://www.curamsoftware.com/curam/jde/client/curam-ng" xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"> <jsp:directive.page isErrorPage="false" pageEncoding="UTF-8" contentType="text/html;charset=UTF-8" isELIgnored="false" language="java" buffer="32kb" errorPage="/__o3ErrorPage.do"/> <jsp:output omit-xml-declaration="yes"/><c:set scope="page" value="true" var="isScriptlet"/> <curam:userPreferences/><c:set scope="request" var="pageId" value="internal-logout-wrapper"/> <c:set value="" scope="request" var="__o3WindowOptions"/> <c:set value="${false}" scope="request" var="__o3InPageNavigation"/> <c:set value="${false}" scope="request" var="__o3PageDescription"/> <c:set value="${false}" scope="request" var="__o3PageActionset"/> <c:set value="${false}" scope="request" var="__o3WizardBar"/> <c:set scope="page" value="true" var="hideConditionalLinks"/> <jsp:scriptlet><![CDATA[ curam.util.common.useragent.UserAgent ua=new curam.util.common.useragent.UserAgent(request.getHeader("User-Agent")); request.getSession().setAttribute("ua-session-key", ua); pageContext.setAttribute("mobileUserAgent", String.valueOf(ua.isMobileBrowser())); pageContext.setAttribute("isDesktop", String.valueOf(!ua.isMobileBrowser())); if ("true".equals(pageContext.getAttribute("mobileUserAgent"))){ pageContext.setAttribute("mobileClassName", "mobile"); } curam.omega3.user.UserPreferences prefs=curam.omega3.user.UserPreferencesFactory.getUserPreferences(session); ]]></jsp:scriptlet><jsp:scriptlet><![CDATA[curam.util.client.jsp.JspUtil.initializeUIM(pageContext,(String)request.getAttribute("pageId"),(String)request.getAttribute("__o3WindowOptions"),(Boolean)request.getAttribute("__o3InPageNavigation")); curam.omega3.taglib.ScreenContext screenContext=(curam.omega3.taglib.ScreenContext) pageContext.getAttribute( curam.omega3.taglib.ScreenContext.CTX_ATTR); if ("true".equals(request.getParameter("invalidateSession"))) { request.getSession().invalidate(); curam.omega3.ApplicationController.doLogoutNoRedirect(request); } ]]></jsp:scriptlet><c:choose><c:when test="${param.o3resolve=='true' and !isScriptlet}"><jsp:text><![CDATA[{"pageID": "${requestScope.pageId}", "pageURL": "]]></jsp:text><jsp:scriptlet><![CDATA[ out.write(curam.omega3.request.RequestHandlerFactory .getRequestHandler(request).getEncodedURL(false)); ]]></jsp:scriptlet><jsp:text><![CDATA["}]]></jsp:text></c:when><c:otherwise><jsp:scriptlet><![CDATA[ String contextPath = request.getContextPath(); out.println("<html>"); out.println("<head>"); out.println("</script>"); out.println("</head>"); out.println("<body>"); out.println("<div><br/></div>"); out.println("<script>top.location = '" + contextPath + "/logon.jsp'</script>"); out.println("</body>"); out.println("</html>"); ]]></jsp:scriptlet></c:otherwise></c:choose>
</jsp:root>