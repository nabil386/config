<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:curam="http://www.curamsoftware.com/curam" xmlns:cing="http://www.curamsoftware.com/curam/jde/client/curam-ng" xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"> <curam:userPreferences/> <jsp:directive.page import="curam.omega3.util.CDEJResources"/> <jsp:directive.page isErrorPage="false" pageEncoding="UTF-8" contentType="text/html;charset=UTF-8" isELIgnored="false" language="java" buffer="32kb"/> <jsp:directive.page import="curam.omega3.user.InfrastructureUserPreferences"/> <jsp:directive.page import="curam.omega3.user.UserPreferencesFactory"/> <jsp:directive.page import="curam.omega3.user.UserPreferences"/> <jsp:directive.page import="curam.util.client.jsp.JspUtil"/> <jsp:output omit-xml-declaration="yes"/> <jsp:text> <![CDATA[<!DOCTYPE html>]]> </jsp:text> <jsp:scriptlet> UserPreferences prefs = UserPreferencesFactory.getUserPreferences(session); pageContext.setAttribute( "pageLocale", prefs.getLocale().toString()); pageContext.setAttribute("landmarkLabel", CDEJResources.getProperty("modal.panel.frame.title")); pageContext.setAttribute("userPrefsEditorTitle", CDEJResources.getProperty("user-prefs-editor.title")); pageContext.setAttribute("userPrefsEditorButtonReset", CDEJResources.getProperty("user-prefs-editor.button.reset")); pageContext.setAttribute("userPrefsEditorButtonSubmit", CDEJResources.getProperty("user-prefs-editor.button.submit")); pageContext.setAttribute("userPrefsEditorButtonCancel", CDEJResources.getProperty("user-prefs-editor.button.cancel")); pageContext.setAttribute("testModeEnabled", curam.omega3.util.DataTestIDUtils.isTestModeEnabled()); String ctx = request.getParameter(curam.omega3.taglib.ScreenContext.CTX_PARAM); curam.omega3.taglib.ScreenContext sc = new curam.omega3.taglib.ScreenContext(); sc.set(ctx); sc.clearStates(); pageContext.setAttribute("currentContext",sc.getValue()); pageContext.setAttribute("highContrastMode", "false"); pageContext.setAttribute("o3__serverURL", JspUtil.getServerRootURL(1)); </jsp:scriptlet> <curam:userPreferences localeCode="${pageScope.pageLocale}"/> <c:set scope="request" value="user-prefs-editor" var="pageId"/> <curam:removeMessages/> <jsp:scriptlet> if(pageContext.getAttribute("htmlDirection").equals("rtl")) { pageContext.setAttribute("classDirection", "rtl"); } else { pageContext.setAttribute("classDirection", ""); } </jsp:scriptlet> <html lang="${htmlLanguage}" dir="${htmlDirection}" class="${classDirection}" role="region" aria-label="${landmarkLabel}"> <jsp:scriptlet><![CDATA[pageContext.setAttribute("theme", "v6", pageContext.APPLICATION_SCOPE);]]></jsp:scriptlet> <head> <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_main.css" media="all" type="text/css" rel="stylesheet"/> <link rel="stylesheet" type="text/css" media="all" href="${pageScope.o3__serverURL}themes/curam/css/curam_main.css"/> <link rel="stylesheet" type="text/css" media="all" href="${pageScope.o3__serverURL}themes/curam/fonts/main-ibm-font.css"/> <jsp:scriptlet> if(pageContext.getAttribute("htmlDirection").equals("rtl")) { </jsp:scriptlet> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}_rtl/css/${applicationScope.theme}_rtl_main.css" media="all" type="text/css" rel="stylesheet"/> <link rel="stylesheet" type="text/css" media="all" href="${pageScope.o3__serverURL}themes/curam_rtl/css/curam_rtl_main.css"/> <jsp:scriptlet> } </jsp:scriptlet> <jsp:text> <![CDATA[<!--[if IE]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_IE.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text> <![CDATA[<!--[if lte IE 6]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_lteIE6.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text> <![CDATA[<!--[if IE 7]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_IE7.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text> <![CDATA[<!--[if IE 8]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_IE8.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text><![CDATA[<!--[if IE 9]>]]></jsp:text> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_IE9.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]></jsp:text> <jsp:text><![CDATA[<!--[if !IE]>-->]]></jsp:text> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_notIE.css" media="all" type="text/css" rel="stylesheet"/> <link href="${pageScope.o3__serverURL}themes/${applicationScope.theme}/css/${applicationScope.theme}_cc_IE10.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]></jsp:text> <link href="${pageScope.o3__serverURL}CDEJ/css/custom.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text> <![CDATA[<!--[if IE]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}CDEJ/css/custom_cc_ie" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text> <![CDATA[<!--[if IE 6]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}CDEJ/css/custom_cc_ie6.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text> <![CDATA[<!--[if IE 7]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}CDEJ/css/custom_cc_ie7.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <jsp:text> <![CDATA[<!--[if IE 8]>]]> </jsp:text> <link href="${pageScope.o3__serverURL}CDEJ/css/custom_cc_ie8.css" media="all" type="text/css" rel="stylesheet"/> <jsp:text><![CDATA[<![endif]-->]]> </jsp:text> <link href="${pageScope.o3__serverURL}themes/classic/images/icons/curam.ico" rel="shortcut icon"/> <link href="${pageScope.o3__serverURL}themes/classic/images/icons/curam.ico" rel="icon"/> <style>
            div.prefs-cluster .header {
                 background-color: #e9ebf3;
                 color: #4D5D8E;
                 font-weight: bold;
            }
          </style> <script type="text/javascript">
            <jsp:text>
              <![CDATA[var alreadySubmitted=0;var treeEnabled=true;var doubleLists = new Array();var jsPageID="user-prefs-editor";]]>
            </jsp:text>
          </script> <script type="text/javascript">
          <jsp:scriptlet>JspUtil.outputDojoLoaderConfiguration(pageContext, prefs.getLocale());</jsp:scriptlet>
         </script> <script type="text/javascript" src="${o3__serverURL}CDEJ/jscript/dojotk/dojo/dojo.js">// dummy script content</script> <script type="text/javascript" src="${pageScope.o3__serverURL}CDEJ/jscript/dojotk/dijit/dijit.js">// script content</script> <script type="text/javascript">
          <jsp:scriptlet>curam.util.client.jsp.JspUtil.outputJSModulePaths(pageContext);</jsp:scriptlet>
          </script> <script src="${pageScope.o3__serverURL}CDEJ/jscript/cdej.js" type="text/javascript">// script content</script> <script src="${pageScope.o3__serverURL}CDEJ/jscript/cdej-cm.js" type="text/javascript">// script content</script> <script type="text/javascript">
            require(["curam/core-uim", "curam/dialog"]);
          </script> <curam:jsUserPreferences/> <script src="${pageScope.o3__serverURL}CDEJ/jscript/popup-config.js" type="text/javascript">// script content</script> <jsp:scriptlet> curam.util.client.jsp.JspUtil.outputJSLocalisedValues(pageContext); </jsp:scriptlet> <script type="text/javascript">
          require(["curam/util", "curam/util/ScreenContext", "curam/util/onLoad"], function() {
            var jsBaseURL = curam.util.retrieveBaseURL();
            dojo.global.jsScreenContext = new curam.util.ScreenContext();
            jsScreenContext.setContext('MODAL');
            // register publisher for the pageID and title information
            curam.util.onLoad.addPublisher(function(context) {
              context.pageID = jsPageID;
              context.title = "${userPrefsEditorTitle}";
            });         
          });            
          </script> <title><jsp:text>Preferences</jsp:text></title> <script type="text/javascript">
          <jsp:text><![CDATA[
           require(["curam/util","curam/dialog", "curam/util/onLoad"], function() {
            curam.dialog.forceParentRefresh();
            curam.dialog.initModal('user-prefs-editor');
            
            // register publisher for the page height information
            curam.util.onLoad.addPublisher(function(context) {
              context.height = curam.util.getPageHeight();
            });
           });
            ]]></jsp:text>
          </script> <script type="text/javascript" src="${pageScope.o3__serverURL}CDEJ/jscript/SPMUIComponents/spm-uicomponents-main.bundle.js"> dummy script content</script> </head> <jsp:scriptlet> pageContext.setAttribute("appID", curam.omega3.util.UserUtils.getApplicationID((javax.servlet.http.HttpServletRequest) pageContext.getRequest())); </jsp:scriptlet> <body id="Curam_user-prefs-editor" class="${classDirection} ${appID} basic modal ${htmlLanguage} en soria curam bx--uim-modal spm-component" role="document" aria-label="${landmarkLabel}"> <cing:page pageID="user-prefs-editor"> <div id="content"> <cing:form action="userPreferenceAction.do" method="post" returnToSelf="false"> <div id="error-messages-container"> <curam:ifMessagesExist> <h3 id="error-messages-header" class="message-list"> <jsp:text><![CDATA[Message List]]></jsp:text> </h3> <ul class="messages" id="error-messages"> <curam:messageLoop> <curam:getCurrentMessage/> </curam:messageLoop> </ul> </curam:ifMessagesExist> </div> <div class="action-set hidden-action-set center"> <a class="ac" href="#">${userPrefsEditorButtonReset}</a> <input type="submit" name="__o3btn.reset" value="Reset" id="__o3btn.reset" title="Reset" class="hidden-button" tabindex="-1"/> <a class="ac" href="#">${userPrefsEditorButtonSubmit}</a> <input type="submit" name="__o3btn.submit" value="Save" id="__o3btn.submit" title="Save" class="hidden-button curam-default-action" tabindex="-1"/> <a class="ac" href="#">${userPrefsEditorButtonCancel}</a> <input type="button" name="__o3btn.cancel" value="Cancel" id="__o3btn.cancel" title="Cancel" class="hidden-button" tabindex="-1" onclick="curam.dialog.closeModalDialog();"/> </div> <div class="bx--cluster bx--cluster--input"> <section data-accordion="" class="bx--accordion bx--accordion--section bx--accordion--disabled"> <div class="bx--accordion__item bx--accordion__item--active" data-accordion-item=""> <div class="bx--accordion__content"> <div class="bx--grid bx--grid--contained bx--grid--direction-row"> <curam:userPreferenceEditor/> </div> </div> </div> </section> </div> </cing:form> </div> <div region="bottom" id="actions-panel"> <div class="action-set buttons"> <script type="text/javascript">require(["curam/util"], function(){
                        curam.util.getTopmostWindow().dojo.publish("/curam/CuramCarbonModal/nonStandardModalFooter", [{"hasDefaultSubmitButton": "true"}]);});
                     </script> <curam:button name="cancel" dataTestidComponentPrefix="link" labelProp="user-prefs-editor.button.cancel" cssClass="submit replace" type="button" onclick="curam.dialog.closeModalDialog();">${userPrefsEditorButtonCancel}</curam:button> <script type="text/javascript">
                      <jsp:text><![CDATA[dojo.addOnLoad(function(){curam.util.replaceSubmitButton('cancel', undefined, true)});]]></jsp:text>
                    </script> <curam:button name="reset" dataTestidComponentPrefix="link" labelProp="user-prefs-editor.button.reset" cssClass="submit replace" type="submit"> ${userPrefsEditorButtonReset} </curam:button> <script type="text/javascript">
                      <jsp:text><![CDATA[dojo.addOnLoad(function(){curam.util.replaceSubmitButton('reset')});]]></jsp:text>
                    </script> <curam:button name="submit" dataTestidComponentPrefix="link" labelProp="user-prefs-editor.button.submit" cssClass="submit replace curam-default-action" type="submit">${userPrefsEditorButtonSubmit}</curam:button> <script type="text/javascript">
                      <jsp:text><![CDATA[dojo.addOnLoad(function(){curam.util.replaceSubmitButton('submit')});]]></jsp:text>
                    </script> </div> </div> <script type="text/javascript"><jsp:text><![CDATA[require(["curam/omega3-util"], function(omega3Util) {omega3Util.setFocus();});]]></jsp:text></script> </cing:page> </body> </html>
</jsp:root>