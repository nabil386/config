<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM
 
  Copyright IBM Corporation 2012. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure 
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<PAGE PAGE_ID="Intake_addQuickNotes">
  <JSP_SCRIPTLET>

    String quickNoteType = request.getParameter("Param0");
    String subjectText = request.getParameter("Param1");
    String noteText = request.getParameter("Param2");
    String relatedID = request.getParameter("Param3");

    curam.interfaces.QuickNotesPkg.QuickNotes_createQuickNotes_TH quickNote_TH =
      new  curam.interfaces.QuickNotesPkg.QuickNotes_createQuickNotes_TH();

    quickNote_TH.setFieldValue(quickNote_TH.quickNotesDetails$quickNotesdtls$type_idx, quickNoteType);
    quickNote_TH.setFieldValue(quickNote_TH.quickNotesDetails$quickNotesdtls$relatedID_idx, relatedID);
    quickNote_TH.setFieldValue(quickNote_TH.quickNotesDetails$noteDtls$subjectText_idx, subjectText);
    quickNote_TH.setFieldValue(quickNote_TH.quickNotesDetails$noteDtls$notesText_idx, noteText);


    // setting default values for these fields. Would be better to default on server - but the facade is mandatory
    quickNote_TH.setFieldValue(quickNote_TH.quickNotesDetails$noteDtls$priorityCode_idx, "NP3");
    quickNote_TH.setFieldValue(quickNote_TH.quickNotesDetails$noteDtls$sensitivityCode_idx, "1");

    quickNote_TH.callServer();

  </JSP_SCRIPTLET>
</PAGE>
