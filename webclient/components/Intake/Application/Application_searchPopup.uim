<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM
  
  Copyright IBM Corporation 2021. All Rights Reserved.
  
  US Government Users Restricted Rights - Use, duplication or disclosure 
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<!-- Description                                                            -->
<!-- ===========                                                            -->
<!-- This is a Popup Page which allows users to search for an Application   -->
<PAGE
  POPUP_PAGE="true"
  PAGE_ID="Application_searchPopup"
  WINDOW_OPTIONS="width=1000"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="file://Curam/UIMSchema.xsd"
>
  <PAGE_TITLE>
    <CONNECT>
      <SOURCE
        NAME="TEXT"
        PROPERTY="PageTitle.StaticText1"
      />
    </CONNECT>
  </PAGE_TITLE>
  
  <SERVER_INTERFACE
    CLASS="IntakeApplicationTaskSearch"
    NAME="DISPLAYPOPUP"
    OPERATION="getSearchDisplayDetails"
    PHASE="DISPLAY"
  />
   
  <SERVER_INTERFACE CLASS="ApplicationCase" NAME="DISPLAY"
    OPERATION="getSearchCriteria" />
    
  <SERVER_INTERFACE CLASS="ApplicationCase" NAME="ACTION"
    OPERATION="search" PHASE="ACTION" />
  
  <!-- this section is conditional on task search by application being allowed -->
  <!-- ======================================================================= -->

  <INFORMATIONAL>
    <CONNECT>
      <SOURCE
        NAME="DISPLAYPOPUP"
        PROPERTY="informationMsgTxt"
      />
    </CONNECT>
  </INFORMATIONAL>
  
  <!-- ======================================================================= -->
  
  <INCLUDE FILE_NAME="Application_caseSearchView.vim"/>
  
  <ACTION_SET
    ALIGNMENT="CENTER"
    TOP="false"
  >
    <ACTION_CONTROL DEFAULT="true" IMAGE="SearchButton"
      LABEL="ActionControl.Label.Search" TYPE="SUBMIT">
      <CONDITION>
	      <IS_TRUE
	        NAME="DISPLAYPOPUP"
	        PROPERTY="taskSearchEnabled"
	      />
	    </CONDITION>
      <LINK PAGE_ID="THIS" />
    </ACTION_CONTROL>
    <ACTION_CONTROL IMAGE="ResetButton" LABEL="ActionControl.Label.Reset">
    	<CONDITION>
	      <IS_TRUE
	        NAME="DISPLAYPOPUP"
	        PROPERTY="taskSearchEnabled"
	      />
	    </CONDITION>
      <LINK PAGE_ID="Application_searchPopup" />
    </ACTION_CONTROL>
	  <ACTION_CONTROL
	    IMAGE="CancelButton"
	    LABEL="ActionControl.Label.Cancel"
	    TYPE="DISMISS"
	  />
  </ACTION_SET>


</PAGE>
