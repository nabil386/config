<?xml version="1.0" encoding="UTF-8"?>

<!-- This page is used to display a list of attachments for the foreign engagement 
  integrated case -->

<PAGE PAGE_ID="BDMFEC_listAttachment"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="file://Curam/UIMSchema.xsd">

  <PAGE_TITLE>
    <CONNECT>
      <SOURCE NAME="TEXT" PROPERTY="PageTitle.StaticText1" />
    </CONNECT>
  </PAGE_TITLE>

  <SERVER_INTERFACE CLASS="BDMIntegratedCase"
    NAME="DISPLAY" OPERATION="listAttachment" />

  <PAGE_PARAMETER NAME="caseID" />

  <CONNECT>
    <SOURCE NAME="PAGE" PROPERTY="caseID" />
    <TARGET NAME="DISPLAY" PROPERTY="key$caseID" />
  </CONNECT>

  <ACTION_SET BOTTOM="false">
    <ACTION_CONTROL IMAGE="NewButton"
      LABEL="ActionControl.Label.New">
      <LINK OPEN_MODAL="true"
        PAGE_ID="BDMFEC_createAttachmentDetails">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="caseID" />
          <TARGET NAME="PAGE" PROPERTY="caseID" />
        </CONNECT>
        <CONNECT>
          <SOURCE NAME="DISPLAY"
            PROPERTY="contextDescription$description" />
          <TARGET NAME="PAGE" PROPERTY="pageDescription" />
        </CONNECT>
        <CONNECT>
          <SOURCE NAME="CONSTANT" PROPERTY="wizardStateIDZero" />
          <TARGET NAME="PAGE" PROPERTY="wizardStateID" />
        </CONNECT>
      </LINK>
    </ACTION_CONTROL>
  </ACTION_SET>

  <LIST>
    <DETAILS_ROW>
      <INLINE_PAGE
        PAGE_ID="BDMFEC_viewAttachmentAndLinkedFA">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="caseID" />
          <TARGET NAME="PAGE" PROPERTY="caseID" />
        </CONNECT>
        <CONNECT>
          <SOURCE NAME="DISPLAY" PROPERTY="attachmentID" />
          <TARGET NAME="PAGE" PROPERTY="attachmentID" />
        </CONNECT>
        <CONNECT>
          <SOURCE NAME="DISPLAY" PROPERTY="caseAttachmentLinkID" />
          <TARGET NAME="PAGE" PROPERTY="caseAttachmentLinkID" />
        </CONNECT>
        <CONNECT>
          <SOURCE NAME="DISPLAY"
            PROPERTY="contextDescription$description" />
          <TARGET NAME="PAGE" PROPERTY="pageDescription" />
        </CONNECT>
      </INLINE_PAGE>
    </DETAILS_ROW>

    <ACTION_SET TYPE="LIST_ROW_MENU">
      <ACTION_CONTROL LABEL="ActionControl.Label.Edit">
        <LINK OPEN_MODAL="true"
          PAGE_ID="BDMFEC_modifyAttachmentDetails">
          <CONNECT>
            <SOURCE NAME="PAGE" PROPERTY="caseID" />
            <TARGET NAME="PAGE" PROPERTY="caseID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="attachmentID" />
            <TARGET NAME="PAGE" PROPERTY="attachmentID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY"
              PROPERTY="caseAttachmentLinkID" />
            <TARGET NAME="PAGE" PROPERTY="caseAttachmentLinkID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY"
              PROPERTY="contextDescription$description" />
            <TARGET NAME="PAGE" PROPERTY="pageDescription" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="CONSTANT" PROPERTY="wizardStateIDZero" />
            <TARGET NAME="PAGE" PROPERTY="wizardStateID" />
          </CONNECT>
        </LINK>
      </ACTION_CONTROL>

      <ACTION_CONTROL LABEL="ActionControl.Label.Delete">
        <LINK OPEN_MODAL="true"
          PAGE_ID="BDMFEC_cancelAttachment">
          <CONNECT>
            <SOURCE NAME="PAGE" PROPERTY="caseID" />
            <TARGET NAME="PAGE" PROPERTY="caseID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="attachmentID" />
            <TARGET NAME="PAGE" PROPERTY="attachmentID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY"
              PROPERTY="caseAttachmentLinkID" />
            <TARGET NAME="PAGE" PROPERTY="caseAttachmentLinkID" />
          </CONNECT>
        </LINK>
      </ACTION_CONTROL>
    </ACTION_SET>

    <FIELD LABEL="Field.Label.Description" WIDTH="50">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="dtls$description" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.DocumentType" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="documentType" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.FileSource" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="fileSource" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.ReceiptDate" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="dateReceipt" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.Date" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="attachmentDate" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.Status" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="statusCode" />
      </CONNECT>
    </FIELD>

  </LIST>

</PAGE>