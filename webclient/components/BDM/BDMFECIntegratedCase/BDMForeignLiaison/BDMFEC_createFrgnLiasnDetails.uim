<?xml version="1.0" encoding="UTF-8"?>

<!-- This page allows a user to create a foreign liaison details. -->

<PAGE PAGE_ID="BDMFEC_createFrgnLiasnDetails"
	WINDOW_OPTIONS="width=765"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="file://Curam/UIMSchema.xsd">

	<PAGE_TITLE>
		<CONNECT>
			<SOURCE NAME="TEXT" PROPERTY="PageTitle.StaticText1" />
		</CONNECT>
	</PAGE_TITLE>

	<MENU MODE="WIZARD_PROGRESS_BAR">
		<CONNECT>
			<SOURCE NAME="CONSTANT" PROPERTY="ForeignLiaisonCreateWizard" />
		</CONNECT>
	</MENU>

	<PAGE_PARAMETER NAME="caseID" />
	<PAGE_PARAMETER NAME="wizardStateID" />

	<SERVER_INTERFACE CLASS="BDMForeignLiaison"
		NAME="ACTION" OPERATION="createForeignLiaisonFromWizard"
		PHASE="ACTION" ACTION_ID_PROPERTY="key$actionIDProperty" />

	<CONNECT>
		<SOURCE NAME="PAGE" PROPERTY="caseID" />
		<TARGET NAME="ACTION" PROPERTY="key$dtls$caseID" />
	</CONNECT>

	<CONNECT>
		<SOURCE NAME="PAGE" PROPERTY="wizardStateID" />
		<TARGET NAME="ACTION" PROPERTY="key$wizardStateID" />
	</CONNECT>

	<SERVER_INTERFACE CLASS="BDMForeignLiaison"
		NAME="GETWIZARDDETAILS" OPERATION="readForeignLiaisonWizardDetails"
		PHASE="DISPLAY" />

	<CONNECT>
		<SOURCE NAME="PAGE" PROPERTY="wizardStateID" />
		<TARGET NAME="GETWIZARDDETAILS" PROPERTY="key$wizardStateID" />
	</CONNECT>

	<SERVER_INTERFACE CLASS="BDMForeignLiaison"
		NAME="DISPLAYDETAILS" OPERATION="readDetailsForForeignLiaison"
		PHASE="DISPLAY" />

	<CONNECT>
		<SOURCE NAME="PAGE" PROPERTY="caseID" />
		<TARGET NAME="DISPLAYDETAILS" PROPERTY="key$caseID" />
	</CONNECT>

	<CLUSTER TITLE="Cluster.Title.LiaisonInformation">

		<CLUSTER NUM_COLS="2">
			<FIELD LABEL="Field.label.Country">
				<CONNECT>
					<SOURCE NAME="DISPLAYDETAILS" PROPERTY="result$countryCode" />
				</CONNECT>
			</FIELD>

			<FIELD LABEL="Field.Label.Date" USE_BLANK="true" USE_DEFAULT="false">
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$receiveDate" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION" PROPERTY="key$dtls$receiveDate" />
				</CONNECT>
			</FIELD>

			<FIELD LABEL="Field.Label.ForeignIdentifier" USE_BLANK="true"
				USE_DEFAULT="false">
				<CONNECT>
					<INITIAL
						NAME="DISPLAYDETAILS" PROPERTY="result$fidDetails$bdmFId$alternateID" />
				</CONNECT>
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$foreignIdntifier" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION" PROPERTY="key$dtls$foreignIdntifier" />
				</CONNECT>
			</FIELD>

			<FIELD LABEL="Field.Label.ForeignOffice" USE_BLANK="true"
				USE_DEFAULT="false">
				<CONNECT>
					<INITIAL
						HIDDEN_PROPERTY="result$foDetails$bdmFO$externalPartyOfficeID"
						NAME="DISPLAYDETAILS" PROPERTY="result$foDetails$bdmFO$officeName" />
				</CONNECT>
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$externalPartyOfficeID" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION"
						PROPERTY="key$dtls$externalPartyOfficeID" />
				</CONNECT>
			</FIELD>
			<FIELD CONTROL="SKIP" />
			<FIELD LABEL="Field.Label.Direction" USE_BLANK="true"
				USE_DEFAULT="false">
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$direction" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION" PROPERTY="key$dtls$direction" />
				</CONNECT>
			</FIELD>
			<FIELD LABEL="Field.label.BESS">
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$bessInd" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION" PROPERTY="key$dtls$bessInd" />
				</CONNECT>
			</FIELD>
		</CLUSTER>

		<CLUSTER NUM_COLS="2">
			<FIELD LABEL="Field.Label.ForeignApplication"
				CONTROL="CHECKBOXED_LIST" HEIGHT="4" USE_BLANK="true"
				USE_DEFAULT="false">
				<CONNECT>
					<INITIAL HIDDEN_PROPERTY="result$faDetails$dtls$fApplicationID"
						NAME="DISPLAYDETAILS" PROPERTY="result$faDetails$dtls$frgnAppRefDesc" />
				</CONNECT>
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$frgnAppIDTabList" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION" PROPERTY="key$dtls$frgnAppIDTabList" />
				</CONNECT>
			</FIELD>

			<FIELD LABEL="Field.Label.LiaisonReference"
				CONTROL="CHECKBOXED_LIST" HEIGHT="4" USE_BLANK="true"
				USE_DEFAULT="false">
				<CONNECT>
					<INITIAL HIDDEN_PROPERTY="result$lrDetails$dtls$foreignLiaisonID"
						NAME="DISPLAYDETAILS" PROPERTY="result$lrDetails$dtls$liaisonRefDesc" />
				</CONNECT>
				<CONNECT>
					<SOURCE NAME="GETWIZARDDETAILS"
						PROPERTY="result$dtls$frgnLiasnIDTabList" />
				</CONNECT>
				<CONNECT>
					<TARGET NAME="ACTION" PROPERTY="key$dtls$frgnLiasnIDTabList" />
				</CONNECT>
			</FIELD>
		</CLUSTER>

	</CLUSTER>

	<CLUSTER NUM_COLS="1" TITLE="Cluster.Title.Comments">
		<FIELD HEIGHT="8" LABEL="Field.Label.Comments">
			<CONNECT>
				<SOURCE NAME="GETWIZARDDETAILS"
					PROPERTY="result$dtls$comments" />
			</CONNECT>
			<CONNECT>
				<TARGET NAME="ACTION" PROPERTY="key$dtls$comments" />
			</CONNECT>
		</FIELD>
	</CLUSTER>

	<ACTION_SET ALIGNMENT="CENTER">
		<ACTION_CONTROL LABEL="ActionControl.Label.Cancel"
			ALIGNMENT="LEFT">
			<LINK PAGE_ID="BDMFEC_listForeignLiaisons" SAVE_LINK="false">
				<CONNECT>
					<SOURCE PROPERTY="caseID" NAME="PAGE" />
					<TARGET PROPERTY="caseID" NAME="PAGE" />
				</CONNECT>
			</LINK>
		</ACTION_CONTROL>

		<ACTION_CONTROL
			LABEL="ActionControl.Label.SaveAndClose" TYPE="SUBMIT"
			ALIGNMENT="RIGHT" ACTION_ID="step1saveandclose">
			<LINK PAGE_ID="BDMFEC_listForeignLiaisons" SAVE_LINK="false">
				<CONNECT>
					<SOURCE PROPERTY="caseID" NAME="PAGE" />
					<TARGET PROPERTY="caseID" NAME="PAGE" />
				</CONNECT>
			</LINK>
		</ACTION_CONTROL>

		<ACTION_CONTROL LABEL="ActionControl.Label.Next"
			TYPE="SUBMIT" ALIGNMENT="RIGHT" ACTION_ID="step1next">
			<LINK PAGE_ID="BDMFEC_createFrgnLiasnChklstDetails"
				DISMISS_MODAL="false" SAVE_LINK="false">
				<CONNECT>
					<SOURCE PROPERTY="caseID" NAME="PAGE" />
					<TARGET PROPERTY="caseID" NAME="PAGE" />
				</CONNECT>
				<CONNECT>
					<SOURCE PROPERTY="wizardStateID" NAME="PAGE" />
					<TARGET PROPERTY="wizardStateID" NAME="PAGE" />
				</CONNECT>
			</LINK>
		</ACTION_CONTROL>

	</ACTION_SET>

</PAGE>
