<?xml version="1.0" encoding="UTF-8"?>

<!-- This page is used to display a list of attachments for the foreign liaison -->

<PAGE PAGE_ID="BDMFEC_listFLAttachment"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="file://Curam/UIMSchema.xsd">

  <PAGE_TITLE>
    <CONNECT>
      <SOURCE NAME="TEXT" PROPERTY="PageTitle.StaticText1" />
    </CONNECT>
  </PAGE_TITLE>

  <SERVER_INTERFACE CLASS="BDMForeignLiaison"
    NAME="DISPLAY" OPERATION="listForeignLiaisonAttachments" />

  <PAGE_PARAMETER NAME="foreignLiaisonID" />

  <CONNECT>
    <SOURCE NAME="PAGE" PROPERTY="foreignLiaisonID" />
    <TARGET NAME="DISPLAY" PROPERTY="key$foreignLiaisonID" />
  </CONNECT>


  <MENU MODE="IN_PAGE_NAVIGATION">
    <ACTION_CONTROL LABEL="Page.Title.FLDetails"
      STYLE="in-page-link" TYPE="ACTION">
      <LINK PAGE_ID="BDMFEC_detailsForeignLiaison">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="foreignLiaisonID" />
          <TARGET NAME="PAGE" PROPERTY="foreignLiaisonID" />
        </CONNECT>
      </LINK>
    </ACTION_CONTROL>
    <ACTION_CONTROL LABEL="Page.Title.FLAttachments"
      STYLE="in-page-current-link" TYPE="ACTION">
      <LINK PAGE_ID="BDMFEC_listFLAttachment">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="foreignLiaisonID" />
          <TARGET NAME="PAGE" PROPERTY="foreignLiaisonID" />
        </CONNECT>
      </LINK>
    </ACTION_CONTROL>
    <ACTION_CONTROL LABEL="Page.Title.FLHistory"
      STYLE="in-page-link" TYPE="ACTION">
      <LINK PAGE_ID="BDMFEC_listHistoryForeignLiaison">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="foreignLiaisonID" />
          <TARGET NAME="PAGE" PROPERTY="foreignLiaisonID" />
        </CONNECT>
      </LINK>
    </ACTION_CONTROL>
  </MENU>

  <LIST>
	<ACTION_SET TYPE="LIST_ROW_MENU">
		<ACTION_CONTROL LABEL="ActionControl.Label.Unlink">
			<LINK PAGE_ID="BDMFEC_unlinkFLAttachment" OPEN_MODAL="true"
				SAVE_LINK="false">
				<CONNECT>
					<SOURCE NAME="DISPLAY"
						PROPERTY="result$dtls$feAttachmentLinkID" />
					<TARGET NAME="PAGE" PROPERTY="feAttachmentLinkID" />
				</CONNECT>
				<CONNECT>
					<SOURCE NAME="DISPLAY" PROPERTY="result$dtls$caseID" />
					<TARGET NAME="PAGE" PROPERTY="caseID" />
				</CONNECT>
			</LINK>
		</ACTION_CONTROL>
	</ACTION_SET>
    <FIELD LABEL="Field.Label.Description" WIDTH="50">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="result$dtls$description" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.DocumentType" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY"
          PROPERTY="result$dtls$documentType" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.FileSource" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="result$dtls$fileSource" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.ReceiptDate" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="result$dtls$dateReceipt" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.Date" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY"
          PROPERTY="result$dtls$attachmentDate" />
      </CONNECT>
    </FIELD>

    <FIELD LABEL="Field.Label.Status" WIDTH="10">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="result$dtls$statusCode" />
      </CONNECT>
    </FIELD>

  </LIST>

</PAGE>