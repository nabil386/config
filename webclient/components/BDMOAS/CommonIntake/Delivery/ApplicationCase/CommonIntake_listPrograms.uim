<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed Materials - Property of IBM

  Copyright IBM Corporation 2012. All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or disclosure
  restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<!-- Lists the programs associated with the application case.            -->
<PAGE
  HIDE_CONDITIONAL_LINKS="false"
  PAGE_ID="CommonIntake_listPrograms"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="file://Curam/UIMSchema.xsd"
>

 <PAGE_TITLE>
    <CONNECT>
      <SOURCE NAME="TEXT" PROPERTY="Page.Title"/>
    </CONNECT>
  </PAGE_TITLE>

  <PAGE_PARAMETER NAME="caseID"/>
  <!-- BEGIN TASK-94706  Customized ApplicationCase Facade to BDMOASApplicationCase-->
  <SERVER_INTERFACE CLASS="BDMOASApplicationCase" NAME="DISPLAY" OPERATION="listPrograms"  PHASE="DISPLAY"/>
 <!-- END TASK-94706  Customized ApplicationCase Facade to BDMOASApplicationCase -->
  <CONNECT>
    <SOURCE NAME="PAGE" PROPERTY="caseID"/>
    <TARGET NAME="DISPLAY"  PROPERTY="key$applicationCaseID" />
  </CONNECT>

  <ACTION_SET>
  <!-- BEGIN TASK-94695  Close All Button-->
    <ACTION_CONTROL LABEL="ActionControl.Label.CloseAllProgram">
    <CONDITION>
      <IS_TRUE NAME="DISPLAY" PROPERTY="closeAllBenefitsInd"/>
    </CONDITION>
      <LINK PAGE_ID="BDMOAS_closeAllBenefits" OPEN_MODAL="true">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="caseID" />
          <TARGET NAME="PAGE" PROPERTY="caseID" />
        </CONNECT>
      </LINK>
    </ACTION_CONTROL>
 <!-- END TASK-94695  Close All Button -->

    <ACTION_CONTROL LABEL="ActionControl.Label.AddProgram">
     <CONDITION>
      	<IS_TRUE NAME="DISPLAY" PROPERTY="addProgramsInd"/>
     </CONDITION>
      <LINK PAGE_ID="CommonIntake_addProgram" OPEN_MODAL="true">
        <CONNECT>
          <SOURCE NAME="PAGE" PROPERTY="caseID" />
          <TARGET NAME="PAGE" PROPERTY="caseID" />
        </CONNECT>
      </LINK>
    </ACTION_CONTROL>
  </ACTION_SET>

  <LIST>
    <ACTION_SET TYPE="LIST_ROW_MENU">
    <!--Task Start-->
  <!--    <ACTION_CONTROL LABEL="ActionControl.Label.EditDateAdded">
        <CONDITION>
          <IS_TRUE NAME="DISPLAY" PROPERTY="dateAddedInd" />
        </CONDITION>

        <LINK PAGE_ID="CommonIntake_editProgramDateAdded" OPEN_MODAL="true">
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="programID" />
            <TARGET NAME="PAGE" PROPERTY="intakeProgramApplicationID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="versionNo" />
            <TARGET NAME="PAGE" PROPERTY="versionNo" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="PAGE" PROPERTY="caseID" />
            <TARGET NAME="PAGE" PROPERTY="caseID" />
          </CONNECT>
        </LINK>
      </ACTION_CONTROL>-->
          <!--Task end-->
      <ACTION_CONTROL LABEL="ActionControl.Label.Authorise">
        <CONDITION>
          <IS_TRUE NAME="DISPLAY" PROPERTY="authoriseInd" />
        </CONDITION>
        <LINK URI_SOURCE_NAME="DISPLAY" URI_SOURCE_PROPERTY="authoriseURL" OPEN_MODAL="true"/>
      </ACTION_CONTROL>
      <ACTION_CONTROL LABEL="ActionControl.Label.Deny">
        <CONDITION>
          <IS_TRUE NAME="DISPLAY" PROPERTY="denyInd" />
        </CONDITION>
        <LINK PAGE_ID="CommonIntake_denyProgram" OPEN_MODAL="true">
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="programID" />
            <TARGET NAME="PAGE" PROPERTY="intakeProgramApplicationID" />
          </CONNECT>
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="versionNo" />
            <TARGET NAME="PAGE" PROPERTY="versionNo" />
          </CONNECT>
        </LINK>
      </ACTION_CONTROL>
           
      <ACTION_CONTROL LABEL="ActionControl.Label.Reopen">
        <CONDITION>
          <IS_TRUE NAME="DISPLAY" PROPERTY="reopenRequestInd" />
        </CONDITION>
        <LINK PAGE_ID="CommonIntake_createProgramReopening" OPEN_MODAL="true">
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="programID" />
            <TARGET NAME="PAGE" PROPERTY="intakeProgramApplicationID" />
          </CONNECT>
        </LINK>
      </ACTION_CONTROL>
       <!--Task Start-->
  <!--
      <ACTION_CONTROL LABEL="ActionControl.Label.Withdraw">
        <CONDITION>
          <IS_TRUE NAME="DISPLAY" PROPERTY="withdrawInd" />
        </CONDITION>
        <LINK PAGE_ID="CommonIntake_withdrawProgram" OPEN_MODAL="true">
          <CONNECT>
            <SOURCE NAME="DISPLAY" PROPERTY="programID" />
            <TARGET NAME="PAGE" PROPERTY="intakeProgramApplicationID" />
          </CONNECT>
        </LINK>
      </ACTION_CONTROL>
      -->
          <!--Task end-->
    </ACTION_SET>

    <DETAILS_ROW>
      <INLINE_PAGE PAGE_ID="CommonIntake_listProgramAuthorisations">
        <CONNECT>
          <SOURCE NAME="DISPLAY" PROPERTY="programID" />
          <TARGET NAME="PAGE" PROPERTY="programID" />
        </CONNECT>
      </INLINE_PAGE>
    </DETAILS_ROW>

    <FIELD LABEL="Field.Label.Name" WIDTH="33">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="name"/>
      </CONNECT>
    </FIELD>
    <FIELD LABEL="Field.Label.AddedOn" WIDTH="20">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="dateProgramAdded"/>
      </CONNECT>
    </FIELD>
    <FIELD LABEL="Field.Label.Status" WIDTH="22">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="status"/>
      </CONNECT>
    </FIELD>
    <FIELD LABEL="Field.Label.CompletedOn" WIDTH="25">
      <CONNECT>
        <SOURCE NAME="DISPLAY" PROPERTY="disposedDate"/>
      </CONNECT>
    </FIELD>
  </LIST>
</PAGE>


